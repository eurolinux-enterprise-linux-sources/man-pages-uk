." © 2005-2007 DLOU, GNU FDL
." URL: <http://docs.linux.org.ua/index.php/Man_Contents>
." Supported by <docs@linux.org.ua>
."
." Permission is granted to copy, distribute and/or modify this document
." under the terms of the GNU Free Documentation License, Version 1.2
." or any later version published by the Free Software Foundation;
." with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
." 
." A copy of the license is included  as a file called COPYING in the
." main directory of the man-pages-* source package.
."
." This manpage has been automatically generated by wiki2man.py
." This tool can be found at: <http://wiki2man.sourceforge.net>
." Please send any bug reports, improvements, comments, patches, etc. to
." E-mail: <wiki2man-develop@lists.sourceforge.net>.

.TH "route" "8" "2007-10-27-16:31" "© 2005-2007 DLOU, GNU FDL" "2007-10-27-16:31"

." ROUTE 8 2006-10-30 net-tools "Linux Programmer's Manual" 

.SH "Назва"
.PP
route \- виводить або керує таблицею маршрутизації IP 

.SH "Стисло"
.PP

.TP
.B \fBroute\fR
 [\fB\-CFvnee\fR] 

.TP
.B \fBroute\fR
 [\fB\-v\fR] [\fB\-A\fR  \fIсімейство\fR] \fBadd\fR [\fB\-net\fR|\fB\-host\fR] \fIпризначення\fR [\fBnetmask\fR \fIм_маска\fR] [\fBgw\fR \fIшлюз\fR] [\fBmetric\fR \fIN\fR] [\fBmss\fR \fIM\fR] [\fBwindow\fR \fIW\fR] [\fBirtt\fR \fII\fR] [\fBreject\fR] [\fBmod\fR] [\fBdyn\fR] [\fBreinstate\fR] [[\fBdev\fR] \fIінтерфейс\fR] 

.TP
.B \fBroute\fR
 [\fB\-v\fR] [\fB\-A\fR \fIсімейство\fR] \fBdel\fR [\fB\-net\fR|\fB\-host\fR] \fIпризначення\fR [\fBgw\fR \fIшлюз\fR] [\fBnetmask\fR \fIм_маска\fR] [\fBmetric\fR \fIN\fR] [[\fBdev\fR] \fIінтерфейс\fR] 

.TP
.B \fBroute\fR
 [\fB\-V\fR] [\fB\-\-version\fR] [\fB\-h\fR] [\fB\-\-help\fR]

.RS
.nf
 

.fi
.RE

.SH "Опис"
.PP
\fBroute\fR маніпулює таблицею IP\-маршрутизації ядра. Основне її завдання полягає у встановлені статичних маршрутів до певних хостів або мереж через якийсь інтерфейс, після того як останні конфігуровано за допомогою програми \fBifconfig\fR(8). 

При використанні опцій \fBadd\fR або \fBdel\fR, \fBroute\fR змінює таблиці маршрутизації. Без них, \fBroute\fR відображає поточний зміст таблиці. 

.SH "Опції"
.PP

.TP
.B \fB\-A \fR\fIсімейство\fR
 Використати вказане сімейство адрес (наприклад, `inet'; `route \-\-help' для повного списку). 

.TP
.B \fB\-F\fR
 Діяти стосовно (Forwarding Information Base) FIB\-таблиці маршрутизації ядра. 

.TP
.B \fB\-C\fR
 Діяти стосовно кешу маршрутизації ядра. 

.TP
.B \fB\-v\fR
 Багатослівний режим. 

.TP
.B \fB\-n\fR
 Вивести числові значення адрес, замість намагатися визначити символічні назви хостів. Це корисно, якщо ви хочете взнати, чому зникнув маршрут до вашого серверу імен (іменного серверу). 

.TP
.B \fB\-e\fR
 Використати формат \fBnetstat\fR(8) для відображення таблиці маршрутів. \fB\-ee\fR видасть дуже довгий рядок зі всіма параметрами таблиці маршрутів. 

.TP
.B \fBdel\fR
 Видалить маршрут. 

.TP
.B \fBadd\fR
 Додасть новий маршрут. 

.TP
.B \fIпризначення\fR
 Мережа або хост призначення. Ви можете вказати IP\-адреси у числово\-крапковій формі, або символічні назви хостів і мереж. 

.TP
.B \fB\-net\fR
 Об'єкт являється мережею. 

.TP
.B \fB\-host\fR
 Об'єкт являється хостом. 

.TP
.B \fBnetmask\fR\fI м_маска\fR
 Яку використовувати мережну маску при доданні маршруту. 

.TP
.B \fBgw\fR\fI шлюз\fR
 Спрямовувати пакети через вказаний шлюз. ПРИМІТКА: шлюз повинен бути досяжним при цьому. Тобто, це означає, що ви повинні попередньо встановити статичний маршрут до шлюзу. Якщо вказати адресу одного з ваших локальних інтерфейсів, він використовуватиметься для того, щоб вирішити до якого інтерфейсу направляти пакети. Це трюк заради сумісності з BSD. 

.TP
.B \fBmetric\fR\fI M\fR
 Встановить поле метричності таблиці маршрутизації (використовується маршрутними демонами) до \fIM\fR. 

.TP
.B \fBmss\fR\fI M\fR
 Встановить TCP максимальний розмір сегменту (MSS \- Maximum Segment Size) для сполучень по цьому маршруту до \fIM\fR байтів. Стандартним є значення максимального відрізку передачі (MTU \- Maximal Transmission Unit) пристрою, мінус заголовки, або нижче MTU, якщо має місце визначення максимального відрізку передачі. Цей параметр дозволяє встановити нижчий MTU, якщо визначення максимального відрізку передачі не працює (як правило, завдяки погано сконфігурованим мережним заслонам, які блокують запит ICMP Fragmentation Needed). 

.TP
.B \fBwindow\fR\fI W\fR
 Встановить TCP розмір вікна для сполучень по цьому маршрутові до \fIW\fR байтів. Це типово використовується з мережами AX.25 і драйверами, що не в змозі обробляти сегменти від кінця до кінця. 

.TP
.B \fBirtt\fR\fI I\fR
 Встановить період обігу (irtt \- initial round trip time) TCP\-сполучень через цей маршрут до \fII\fR мілісекунд (1\-120000). Типово використовується з мережами AX.25. Якщо не задано, стандартним значенням, згідно з RFC 1122, буде 300 мілісекунд. 

.TP
.B \fBreject\fR
 Встановить блокуючий маршрут, що спричинить невдачу пошуку маршруту. Це, наприклад, використовується, щоб приховати мережі перед тим як застосувати маршрут за узгодженням. Це НЕ являється мережною заслоною. 

.TP
.B \fBmod\fR, \fBdyn\fR, \fBreinstate\fR
 Встановити динамічний або змінний маршрут. Ці прапорці для діагностичних цілей і, як правило, встановлюються тільки маршрутними демонами. 

.TP
.B \fBdev\fR\fI інтерфейс\fR
 Пов'язує маршрут із вказаним пристроєм, або, в протилежному випадку, ядро намагатиметься самостійно визначити пристрій (через перевірку вже існуючих маршрутів і специфікацій пристроїв). В більшості звичайних мереж, немає необхідності вживати цю опцію. 

Якщо це стоїть останньою опцією командного рядка, можна пропустити слово \fBdev\fR, оскільки це використовується за замовчуванням. У протилежному випадку, послідовність модифікаторів маршруту (\fBmetric\fR, \fBnetmask\fR, \fBgw\fR, \fBdev)\fR не має значення. 

.SH "Приклади"
.PP

.TP
.B route add \-net 127.0.0.0
 додає звичайний запис оберненого на себе сполучення, використовуючи мережну маску 255.0.0.0 (мережа класу A, визначеної з адреси призначення), асоційовану з пристроєм \fIlo\fR (припускаючи, що цей пристрій налагоджено належним чином через \fBifconfig\fR(8)). 

.TP
.B route add \-net 192.56.76.0 netmask 255.255.255.0 dev eth0
 додає маршрут до мережі 192.56.76.x через eth0. Модифікатор мережної маски класу C не обов'язковий у цьому випадку, оскільки 192.* \- це IP\-адреса класу C. Слово \fBdev\fR також можна опустити тут. 

.TP
.B route add default gw mango\-gw
 додає маршрут за домовленістю (який використовуватиметься, якщо жодний інший маршрут не підходить). Всі пакети, що послуговуються цим маршрутом буде перенаправлено через шлюз mango\-gw. Пристрій, використовуваний для даного маршруту залежить від того, як ми можемо дістатися до mango\-gw \- необхідно попередньо встановити статичний маршрут до mango\-gw. 

.TP
.B route add ipx4 sl0
 додає маршрут до хосту ipx4 через інтерфейс SLIP (припускаючи, що ipx4, це SLIP\-хост). 

.TP
.B route add \-net 192.57.66.0 netmask 255.255.255.0 gw ipx4
 ця команда додає мережу 192.57.66.x, яку буде перенаправлено через попередній маршрут через SLIP\-інтерфейс. 

.TP
.B route add \-net 224.0.0.0 netmask 240.0.0.0 dev eth0
 ця команда заплутана трохи; документовано, щоб люди знали як його здійснити. Це задає, щоб усі маршрути класу D (групової трансляції) проходили через eth0. Це правильний рядок конфігурації для ядра, що підтримує групову трансляцію. 

.TP
.B route add \-net 10.0.0.0 netmask 255.0.0.0 reject
 це встановить блокуючий маршрут для приватної мережі 10.x.x.x. 

.SH "Вивід"
.PP
Вивід таблиці маршрутизації ядра організовано в наступні стовпчики: 

.TP
.B \fBDestination\fR
 Мережа або хост призначення. 

.TP
.B \fBGateway\fR
 Адреса шлюзу, або '*', якщо не існує. 

.TP
.B \fBGenmask\fR
 Мережна маска мережі призначення; '255.255.255.255' для хосту, і '0.0.0.0' для маршруту за узгодженням. 

.TP
.B \fBFlags\fR
 Можливі прапорці включають: 

.TP
.B \fBU\fR
 \- маршрут працює (\fBU\fRp) 

.TP
.B \fBH\fR
 \- об'єкт призначення являється хостом (\fBH\fRost) 

.TP
.B \fBG\fR
 \- використати шлюз (\fBG\fRateway) 

.TP
.B \fBR\fR
 \- встановити новий стан для динамічної маршрутизації (\fBR\fReinstate) 

.TP
.B \fBD\fR
 \- динамічно встановлений демоном або перенаправленням (\fBD\fRynamic) 

.TP
.B \fBM\fR
 \- змінений демоном маршрутизації або перенаправленням (\fBM\fRodified) 

.TP
.B \fBA\fR
 \- встановлений \fBaddrconf\fR 

.TP
.B \fBC\fR
 \- видобуто з кешу (\fBC\fRache) 

.TP
.B \fB!\fR
 \- блокуючий маршрут 

.TP
.B \fBMetric\fR
 Відстань до об'єкту призначення (як правило вимірювана в транзитних дільницях). Це не використовується сучасними ядрами, але може знадобитися демонам маршрутизації. 

.TP
.B \fBRef\fR
 Кількість посилань на цей маршрут. (Не використовується ядром Лінукса.) 

.TP
.B \fBUse\fR
 Відлік пошуків цього маршруту. В залежності від того, чи вживалися \fB\-F\fR чи \fB\-C\fR, цей стовпчик включатиме непопадання з маршрутного кешу (\efB\-F\ef) або попадання (\fB\-C\fR). 

.TP
.B \fBIface\fR
 Інтерфейс, до якого буде направлено пакети по цьому маршрутові. 

.TP
.B \fBMSS\fR
 Максимальний розмір сегментів за домовленістю для TCP\-сполучень цього маршруту. 

.TP
.B \fBWindow\fR
 Розмір вікна за домовленістю для TCP\-сполучень цього маршруту. 

.TP
.B \fBirtt\fR
 Період обігу (RTT \- Round Trip Time). Ядро використовує це для вгадування найкращих параметрів протоколу TCP, без очікування (можливо повільних) відповідей. 

.TP
.B \fBHH\fR (тільки для кешованих даних)
 Кількість записів ARP (Address Resolution Protocol) і кешованих маршрутів, що посилаються на кеш заголовку пристрою кешованого маршруту. Матиме значення \-1, якщо адреса пристрою не є потрібною інтерфейсу кешованого маршруту (наприклад lo). 

.TP
.B \fBArp\fR (тільки для кешованих даних)
 Чи являється сучасною адреса пристрою кешованого маршруту. 

.SH "Файли"
.PP
\fI/proc/net/ipv6_route\fR 

.br

\fI/proc/net/route\fR 

.br

\fI/proc/net/rt_cache\fR 

.SH "Дивіться також"
.PP
\fBifconfig\fR(8), \fBnetstat\fR(8), \fBarp\fR(8), \fBrarp\fR(8) 

.SH "Історія"
.PP
\fBroute\fR для Лінукса було початково написано Fred N. van Kempen <waltje@uwalt.nl.mugnet.org>, після чого модифіковано Johannes Stille і Linus Torvalds для pl15. Alan Cox додав mss і опції вікна, починаючи з Лінукса 1.1.22. Підтримку irtt і сумісність з \fBnetstat\fR втілено Bernd Eckenfels. 

.SH "Автори"
.PP
У даний момент підтримується Phil Blundell <Philip.Blundell@pobox.com>.  


." © 2005-2007 DLOU, GNU FDL
." URL: <http://docs.linux.org.ua/index.php/Man_Contents>
." Supported by <docs@linux.org.ua>
."
." Permission is granted to copy, distribute and/or modify this document
." under the terms of the GNU Free Documentation License, Version 1.2
." or any later version published by the Free Software Foundation;
." with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
." 
." A copy of the license is included  as a file called COPYING in the
." main directory of the man-pages-* source package.
."
." This manpage has been automatically generated by wiki2man.py
." This tool can be found at: <http://wiki2man.sourceforge.net>
." Please send any bug reports, improvements, comments, patches, etc. to
." E-mail: <wiki2man-develop@lists.sourceforge.net>.

.TH "gnbd_import" "8" "v 1.01.00 переклад альфа версія 2007-10-27-16:31" "© 2005-2007 DLOU, GNU FDL" "Кластерні файлові системи"

."Copyright (C) Sistina Software, Inc.  1997-2003  All rights reserved.
." Copyright (C) 2004 Red Hat, Inc.  All rights reserved.

.SH "ІМ'Я"
.PP

\fBgnbd_import\fR \- маніпулює пристроями GNBD на клієнтській стороні.

.SH "ВИКОРИСТАННЯ"
.PP

.RS
.nf
    \fBgnbd_import\fR [\fIOPTION\fR]...

.fi
.RE

.SH "ОПИС"
.PP

\fBgnbd_import\fR імпортує, переглядає, та від'єднується від GNBD. GNBD подібний до Network Block Device (nbd) в ядрі Лінукса, за вийнятком того, що він дозволяє багато одночасний з'єднань клієнтів та має вбудовану програму захисту \fIfence\fR

.SH "ОПЦІЇ"
.PP

.RS
.nf
       

.fi
.RE
.TP
.B \fB\-a\fR
Перевірка.
.br
Перевантажує завислі gnbd_recvd процеси. Зазвичай, коли gnbd стає від'єднаним, процес gnbd_recvd для того пристрою буде автоматично старатись відновити зв'язок. Якщо цей процес був зупинений команда \fBgnbd_import \-a\fR перезапустить його.

.TP
.B \fB\-c\fR \fIserver\fR
.br
Перевіряє захист.
.br
Виводить список всіх IP адрес з яких здійснюються IO fenced з вказаного серверу. Якщо вказаний сервер не має жодного IP адресу fenced, не виводиться нічого. Якщо на вказаному сервері не працює \fBgnbd_serv(8)\fR, виводиться помилка.

.TP
.B \fB\-e\fR \fIserver\fR
.br
Список експортованих пристроїв.
.br
Виводить список GNBD експортованих вказаним сервером, разом з портами через котрі можна до них доступитись. Якщо вказаний сервер не експортує жодного GNBD пристрою, нічого не виводиться.  Якщо на вказаному сервері не працює gnbd_serv, виводиться помилка.

.TP
.B \fB\-h\fR
Допомога.
.br
Видруковує інформацію по використанню.

.TP
.B \fB\-i\fR ''server
.br
Імпорт.
.br
Імпортує всі GNBD котрі вказаний сервер експортує. Коли інший пристрій з тим же ім'ям імпортований новий не імпортуватиметься.

.TP
.B \fB\-l\fR
Список.
.br
Виводить перелік всіх імпортованих GNBD. Якщо не вказано ніяких опції то ця поведінка буде по замовчуванню. Кожний пристрій описується в восьми полях: \fIDevice name\fR \- ім'я вибране для пристрою при експортуванні його сервером. \fIMinor #\fR \- the minor number for the  GNBD на локальному комп'ютері. \fIProc  name\fR \- ім'я пристрою котре появляється в /proc/ для забезпечення належних імен. ПРИМІТКА: ім'я пристрою буде розповсюджене по кластеру, а його \fIMinor #\fR та \fIProc name\fR можуть і не розповсюджуватись. \fIServer\fR \- ім'я серверу. \fIPort\fR \- номер порту. Для з'єднання з GNBD сервером використовують тільки \fIServer\fR та \fIPort'.' \fRState'' \- описує стан пристрою. Він має три змінні. Перша вказує на відкритість чи закритість (Open/Closed). Друга вказує на стан зв'язку (Connected/Disconnected) в залежності від роботи TCP з'єднання між пристроєм та його сервером. Коли зв'язок обривається то ця змінна не поновлюється моментально. Третя змінна приймає значення (Pending/Clear), в залежності від наявності чи ні IO запитів, що GNBD посилає до серверу, але котрі ще не виконані до кінця. \fBReadonly\fR \-  вказує чи gnbd сервер експортує пристрій в режимі тільки для читання. \fBSectors\fR \- розмір пристрою в 512 byte\-них секторах.

.TP
.B \fB\-n\fR
Без кластеру.
.br
Ця опція застерігає \fIgnbd_import\fR від спроб зв'язатись з програмою управління кластером. Використовують разом з опцією \fI\-i\fR
.br
ПРИМІТКА: з цією опцією неможливо експортувати пристрої без кешування.
.br
ЗАУВАЖЕННЯ: Опцію використовують у ситуації, при котрій не потрібно ніякого кластеру. Спроба використати \fBfence_gnbd(8)\fR. для блокування доступу до пристрою з цією опцією буде невдалим, та приведе до можливого пошкодження даних у кластерному середовищі.

.TP
.B \fB\-O\fR
Override
Опція дозволяє gnbd_import працювати не в інтерактивному режимі. Вона не питатиме більше користувача перед здійсненням небезпечних операцій. Наполегливо рекомендується не використовувати цю опцію.

.TP
.B \fB\-p\fR \fIPort\fR
.br
Змінює номер порту до якого здійснюється підключення на сервері. Опцію використовують разом з \fB\-c\fR, \fB\-e\fR та \fB\-i\fR. Якщо порт не вказаний то gnbd_import спробує під'єднатись до 14567 на серверну машину та зв'язатись з \fBgnbd_serv(8)\fR сервісом. Її необхідно використовувати тільки у випадку коли ви змінили порт по замовчуванню \fBgnbd_serv(8)\fR сервісу.

.TP
.B \fB\-q\fR
Тихий режим.
.br
Видруковує тільки помилки чи питання.

.TP
.B \fB\-R\fR
Відміняє все.
.br
Зупиняє імпорт всіх GNBD у системі. Тільки GNBD, що мають стан: Closed Disconnected  Clear можуть зупинитись (дивіться опцію \fB\-l\fR), інакше використовуйте опцію \fB\-O\fR.
.br
Зупиняє всі, але припиняє роботу після першої не вдалої спроби.

.TP
.B \fB\-r\fR [\fIGNBD | LIST\fR]
.br
Зупинити.
.br
Зупиняє імпорт вказаних пристроїв GNBD в системі. Можуть бути зупинені тільки GNBD, що знаходяться у станах: Closed  Disconnected Clear (дивіться опцію \fB\-l\fR), хіба що використовується опція \fB\-O\fR. Припиняє зупинку імпорту після першої невдалої спроби.

.TP
.B \fB\-s\fR \fIhost\fR
Захист.
.br
Захист вводу /виводу вказаного комп'ютера. Ця команда звичайно запускається \fBfenced\fR.
.br
ЗАСТЕРЕЖЕННЯ: не завжди є можливим ідеально гладко знову під'єднати клієнта, що мав перерваний свій зв'язок. Дуже не бажано запускати цю команду в ручну, хіба впевнені в тому, що робите. Дивіться опцію \fB\-t\fR для детальної інформації. Як тільки від комп'ютеру захищаються з серверу він не зможе доступитись до всіх GNBD з того серверу, поки захист не відмінять (дивіться опцію \fB\-u\fR).

.TP
.B \fB\-t\fR \fIserver\fR
Захист зі сторони серверу.
.br
Вказує сервер для захисту IO (використовується тільки з опцією \fB\-s\fR).

.TP
.B \fB\-u\fR \fIhost\fR
Unfence.
.br
Відміняє захист IO вказаним сервером.(Unfence  the  specified  host.)
.br
ЗАСТЕРЕЖЕННЯ:Відміна захисту клієнта в "не той час" приведе до пошкодження даних. В нормальних ситуаціях цю опцію ніколи не треба використовувати. Дивіться опцію \fB\-t\fR.

.TP
.B \fB\-V\fR
Інформація про версію.
.br
Видруковує версію програми.

.TP
.B \fB\-v\fR
Багатослівний режим.
.br
Видруковує додаткову інформацію протягом роботи \fBgnbd_serv\fR.

.SH "ДИВІТЬСЯ ТАКОЖ"
.PP

\fBgnbd_export(8)\fR.

.SH "BUGS"
.PP

A computer should not import a GNBD device that it exports.  Any significant amount of IO on that device will cause a kernel deadlock. This is a problem common to  most  NBDs.  Instead, the underlying device should be used directly. See gnbd_export for more on this.


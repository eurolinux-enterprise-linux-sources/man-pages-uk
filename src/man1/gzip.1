." © 2005-2007 DLOU, GNU FDL
." URL: <http://docs.linux.org.ua/index.php/Man_Contents>
." Supported by <docs@linux.org.ua>
."
." Permission is granted to copy, distribute and/or modify this document
." under the terms of the GNU Free Documentation License, Version 1.2
." or any later version published by the Free Software Foundation;
." with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
." 
." A copy of the license is included  as a file called COPYING in the
." main directory of the man-pages-* source package.
."
." This manpage has been automatically generated by wiki2man.py
." This tool can be found at: <http://wiki2man.sourceforge.net>
." Please send any bug reports, improvements, comments, patches, etc. to
." E-mail: <wiki2man-develop@lists.sourceforge.net>.

.TH "gzip" "1" "2007-10-27-16:31" "© 2005-2007 DLOU, GNU FDL" "2007-10-27-16:31"

.SH " Назва "
.PP
gzip, gunzip, zcat \- стискають і розширюють файли 

.SH " Використання "
.PP
\fBgzip\fR [ \fB\-acdfhlLnNrtvV19\fR ] [\fB\-S\fR \fIсуфікс\fR] [ \fIназва\fR ...  ] 

.br

\fBgunzip\fR [ \fB\-acfhlLnNrtvV\fR ] [\fB\-S\fR \fIсуфікс\fR] [ \fIназва\fR ...  ] 

.br

\fBzcat\fR [ \fB\-fhLV\fR ] [ \fIназва\fR ...  ] 

.SH " Опис "
.PP
Програма \fBgzip\fR зменшує розмір вказаних їй файлів, використовуючи алгоритм Lempel\-Ziv (LZ77). По можливості, кожний файл заміняється новим з розширенням `.gz', одночасно зберігаючи власника та режим доступу, а також час доступу та модифікації. (Стандартними розширеннями являються `\-gz' для VMS, і `z' для MSDOS, OS/2 FAT, Windows NT FAT і Atari.) Якщо не вказано жодного файлу, або вказано як `\-', стискання відбудеться над стандартним вводом, і вивід здійснюватиметься на стандартний пристрій виводу. \fBgzip\fR намагатиметься стиснути тільки звичайні файли. Зокрема, програма ігноруватиме символічні посилання. 

Якщо назва стисненого файлу (разом з суфіксом) виявиться занадто довгою для файлової системи, \fBgzip\fR зітне її. \fBgzip\fR намагається скоротити тільки частини назви файлу, довші за 3 знаки. (Частину, обмежену крапками.) Якщо назва складається тільки з маленьких частинок, зітнуто буде найдовшу. Наприклад, коли назви файлів обмежено до 14 символів, gzip.msdos.exe після стиснення перетвориться на gzi.msd.exe.gz. Назви файлів не стинаються на системах, де не існує обмежень довжини назв файлів. 

Стандартно, \fBgzip\fR зберігає оригінальну назву файлу і часові мітки в стисненому файлі. Їх буде використано під час розтиску файлу із опцією \fB\-N\fR. Це корисно, коли назву стисненого файлу було зітнуто, або мітку часу не збережено після пересилки файлу. 

Стиснений файл можна відновити до їхньої початкової форми за допомогою `gzip \-d', \fBgunzip\fR або \fBzcat\fR. Якщо оригінальна назва файлу, збережена в стисненому файлі, не підходить для підставової файлової системи, буде складено нову назву з оригінальної, щоб зробити її законною. 

\fBgunzip\fR візьме список файлів на командному рядкові, і замінює кожний файл, чия назва закінчується на `.gz', `\-gz', `.z', `\-z', `_z' або `.Z', і який починається з правильного магічного числа, на розтиснутий файл без одного з цих суфіксів. \fBgunzip\fR також розпізнає спеціальні розширення `.tgz' і `.taz', як скорочення від `.tar.gz' і `.tar.Z', відповідно. Під час стиснення, \fBgzip\fR може використати розширення `.tgz', якщо необхідно, замість скорочення назви файлу з розширенням `.tar'. 

На сьогодення, \fBgunzip\fR в змозі розтискати файли, створені \fBgzip\fR, \fBzip\fR(1), \fBcompress\fR(1), `compress \-H', або \fBpack\fR(1). Виявлення формату вводу є автоматичним. При використанні перших двох форматів, \fBgunzip\fR перевіряє на наявність 32\-бітного CRC. У випадку з \fBpack\fR(1), \fBgunzip\fR перевіряє довжину розтисненого файлу. Стандартний формати стискання не дозволяє перевірку узгодженості, проте \fBgunzip\fR іноді в змозі виявити поганий `.Z'\-файл. Якщо ви отримаєте помилку під час розтиску `.Z'\-файлу, не гадайте, що із `.Z'\-файлом все гаразд тільки тому, що стандартний \fBuncompress\fR(1), не жаліється. Це скоріше означає, що \fBuncompress\fR(1) не перевіряє власного вводу на помилки, і радо генерує вивід\-непотріб. Формат `compress \-H', використовуваний SCO (lzh\-метода стиснення), не включає CRC, але дозволяє певну перевірку на узгодженість. 

Файли, створені \fBzip\fR(1) можна розтиснути \fBgzip\fR тільки коли мають єдиний елемент, стиснутий способом здуття (deflation). Ця риса існує тільки задля того, щоб полегшити перетворення файлів формату tar.zip на tar.gz. Щоб видобути zip\-файли з декількома елементами, скористайтеся з \fBunzip\fR(1), замість \fBgunzip\fR. 

\fBzcat\fR є тотожним `gunzip \-c'. (На деяких системах, \fBzcat\fR може бути інстальовано як \fBgzcat\fR, щоб зберегти оригінальне посилання на \fBcompress\fR.) \fBzcat\fR розтискає або список файлів на командному рядку, або стандартний ввід, і записує розтиснені дані на стандартний пристрій виводу. \fBzcat\fR оброблятиме тільки ті файли, що містять правильне магічне число, незалежно від того, чи включає їхня назва суфікс `.gz', чи ні. 

\fBgzip\fR застосовує алгоритм Lempel\-Ziv, використовуваний у \fBzip\fR і \fBPKZIP\fR. Рівень стискання залежить від кількості вводу та поширеності однакових підланцюжків. Типово, англійський текст, або вихідний код зменшується в розмірі на 60\-70%. Загалом, результати набагато кращі за LZW (використовуваного в \fBcomress\fR(1)), алгоритму Huffman (використовуваного в \fBpack\fR(1)), або адаптованого алгоритму Huffman (\fBcompact\fR(1)). 

Спроба стиснення завжди відбувається, навіть якщо стиснений файл виявиться трохи більшим за розміром за оригінальний. Найбільше, що може додати до розміру стисненого файлу, це декілька байтів заголовку \fBgzip\fR\-файлу, плюс 5 байтів кожних 32\-кілобайтових блоки, або коефіцієнт розширення, рівний 0.015%, для великих файлів. Зауважте, що дійсна кількість використовуваних дискових блоків майже ніколи не збільшується. \fBgzip\fR зберігає набір дозволів, власника та часові мітки файлів під час стиснення та розтиску. 

.SH " Опції "
.PP

.TP
.B \fB\-a \-\-ascii\fR
 ASCII\-текстовий режим (дивіться \fBascii\fR(7)): перетворює кінці рядків, керуючись локальними умовностями. Ця опція підтримується тільки на деяких не\-Юнікс операційних системах. Для MSDOS, CR LF перетворюється на LF під час стиснення, і LF \- назад на CR LF, при розтиску. 

.TP
.B \fB\-c \-\-stdout \-\-to\-stdout\fR
 Записуватиме вивід до стандартного пристрою виводу; зберігатиме незмінними оригінальні файли. Коли існує декілька файлів вводу, вивід складатиметься з послідовності незалежно\-стиснених частин. Щоб добитися кращого стиснення, зчепіть усі файли вводу перед тим як стискати їх. 

.TP
.B \fB\-d \-\-decompress \-\-uncompress\fR
 Розтискання. 

.TP
.B \fB\-f \-\-force\fR
 Примусове стискання або розтиск, навіть якщо файл включає багатократні посилання, або відповідний файл вже існує, або коли стиснені дані зчитуються з або записуються до терміналу. Якщо ввідні дані не знаходяться у форматі, які розпізнає \fBgzip\fR, і якщо задано опцію \fB\-\-stdout\fR, копіює ввідні дані без змін до стандартного виводу \- тобто, \fBzcat\fR(1) поводитиметься як \fBcat\fR(1). Якщо не задано опції \fB\-f\fR, і програма не знаходиться у фоновому режимі, \fBgzip\fR питатиме підтвердження на перезапис вже існуючих файлів. 

.TP
.B \fB\-\-help\fR
 Виводить допомогу і одразу завершує роботу. 

.TP
.B \fB\-l \-\-list\fR
 Для кожного стисненого файлу виводить наступні поля з інформацією: 
.br

.br
      compressed: розмір стисненого файлу 

.br

.RS
.nf
     uncompressed: розмір нестисненого файлу 

.fi
.RE
.br

.RS
.nf
     ratio: коефіцієнт стиснення (0.0%, якщо невідомий) 

.fi
.RE
.br

.RS
.nf
     uncompressed_name: назва нестисненного файлу <br><br> Розмір нестисненого файлу відображено як \-1 для файлів, що не знаходяться у форматі <b>gzip</b>, наприклад, стиснені `.Z'\-файли. Щоб отримати розмір нестисненого файлу, в такому випадку, ви можете скористатися з <br><br> 

.fi
.RE
.RS
.nf

    
zcat file.Z | wc \-c

.fi
.RE
 
.br

.br
 У поєднанні з опцією \fB\-\-verbose\fR, виводяться також наступні поля: 
.br

.br
      method: метода стиснення 

.br

.RS
.nf
     crc: 32\-бітний CRC нестиснених даних 

.fi
.RE
.br

.RS
.nf
     date & time: часова мітка нестисненого файлу <br><br> Методами стиснення, підтримуваними на сьогоднішній день, є `deflate', `compress', `lzh' (compress \-H в SCO) та `pack'. Значення CRC є рівним ffffffff для файлів, не у форматі <b>gzip</b>. <br><br> Разом із опцією <b>\-\-name</b>, нестиснене ім'я, дата і час дорівнюватимуть тим, що збережено у стисненому файлі, якщо дійсно збережено. <br><br> Разом із <b>\-\-verbose</b>, виводяться також загальні розміри і коефіцієнт стиснення для всіх файлів, за виключенням, коли деякі розміри невідомі. Разом із <b>\-\-quiet</b>, не виводяться заголовок і підсумок. 

.fi
.RE
.TP
.B \fB\-L \-\-license\fR
 Виведе ліцензію \fBgzip\fR, і одразу завершить роботу програми. 

.TP
.B \fB\-n \-\-no\-name\fR
 Під час стиснення, не зберігати назву оригінального файлу і мітку часу. (Оригіналу назву завжди збережено, якщо її необхідно скоротити.) Під час розтиску, не відтворювати оригінальну назву файлу, якщо її було збережено (видаляє тільки суфікс з назви файлу), і не відтворювати оригінальні мітки часу (копіює їх зі стисненого файлу). Ця опція вживається без задання, під час розтиску. 

.TP
.B \fB\-N \-\-name\fR
 При стисненні, завжди зберігати оригінальну назву і часову мітку; вживається без задання. Під час розтиску, відтворить оригінальну назву файлу і мітку часу, якщо присутні. Ця опція корисна у випадку систем з обмеженням довжини назв файлів, або якщо мітки часу втрачено під час передачі файлів. 

.TP
.B \fB\-q \-\-quiet\fR
 Пригнічує всі попередження. 

.TP
.B \fB\-r \-\-recursive\fR
 Рекурсивно проходить ієрархічну структуру каталогу. Якщо якісь назви файлів, заданих на командному рядкові, виявляться каталогами, \fBgzip\fR перейде в цей каталог і стисне всі знайдені там файли (або розтисне їх у випадку \fBgunzip\fR). 

.TP
.B \fB\-S \fR\fI.суф\fR\fB \-\-suffix \fR\fI.суф\fR
 Використає суфікс \fI.суф\fR замість `.gz'. Можна задати будь\-який суфікс, але краще уникати суфіксів, відмінних від `.z' і `.gz', щоб запобігти плутанини під час передачі файлів іншим системам. Відсутній суфікс причинить спробу \fBgunzip\fR розтиснути всі наявні файли, незалежно від суфіксу, наприклад:
.br

.br

.RS
.nf
  
   gunzip \-S "" *       (*.* для MSDOS)

.fi
.RE

Попередні версії \fBgzip\fR використовували суфікс `.z'. Його змінено, щоб запобігти конфліктів із \fBpack\fR(1). 

.TP
.B \fB\-t \-\-test\fR
 Перевірка цілосності стисненого файлу. 

.TP
.B \fB\-v \-\-verbose\fR
 Багатослівний режим. Виводить назву і процент зміни розміру кожного, стисненого або розтисненого файлу. 

.TP
.B \fB\-V \-\-version\fR
 Виведе версію програми і опції, застосовані під час компіляції, після чого завершить роботу. 

.TP
.B \fB\-\fR\fIN\fR\fB \-\-fast \-\-best\fR
 Регулює швидкість стиснення, якщо вказати число \fIN\fR, де \fIN\fR рівне \-1 або \fB\-\-fast\fR означає найшвидшу методу стиснення (менший коефіцієнт ущільнення), і \-9, або \fB\-\-best\fR, що позначає найповільнішу методу стиснення (найбільша щільність). Стандартним рівнем стиску є \-6 (тобто, ближче до більшого стиснення за рахунок швидкості). 

.SH " Приклади складнішого використання "
.PP
Багатократні стиснені файли можна зчепити. В такому випадку, \fBgunzip\fR видобуде всі частини одразу. Наприклад: 
.br

.br
 

.RS
.nf
    gzip \-c file1  > foo.gz
    gzip \-c file2 >> foo.gz

.fi
.RE
Після чого

.RS
.nf
    gunzip \-c foo

.fi
.RE
тотожне

.RS
.nf
    cat file1 file2

.fi
.RE
У випадку пошкодження однієї з частин `.gz'\-файлу, решту ще можна здобути (якщо вилучити пошкоджену частину). Однак, ви доб'єтеся кращого результату, якщо стиснете всі частини одразу: 
.br

.br
 

.RS
.nf
    cat file1 file2 | gzip > foo.gz

.fi
.RE
працює краще за

.RS
.nf
    gzip \-c file1 file2 > foo.gz

.fi
.RE
Якщо ви хочете знову стиснути вже стиснений зчеплений файл, для додаткового ущільнення, зробіть

.RS
.nf
    gzip \-cd old.gz | gzip > new.gz

.fi
.RE
Якщо стиснений файл складається з декількох частин, розмір нестисненого файлу та використовуване CRC, про які звітує опція \fB\-\-list\fR, стосуються лише останньої частини. Коли вам потрібні нестиснені розміри всіх частин, можете скористатися з

.RS
.nf
    gzip \-cd file.gz | wc \-c

.fi
.RE
Коли ви хочете створити єдиний архівний файл з чисельними членами, які пізніше можна окремо видобути, скористайтеся з архіваторів, таких як \fBtar\fR(1) або \fBzip\fR(1). \fBtar\fR від GNU також підтримує опцію \fB\-z\fR, що прозоро викличе \fBgzip\fR. Тобто, \fBgzip\fR розроблено як доповнення до архіватору \fBtar\fR(1), а не його заміна. 

.SH " Середовище "
.PP
Змінна середовища \fBGZIP\fR може утримувати набір стандартних опцій для \fBgzip\fR. Ці опції інтерпретовано першими, і можна обійти за допомогою явних параметрів командного рядка. Наприклад:

.RS
.nf
   для sh:    GZIP="\-8v \-\-name"; export GZIP 
   для csh:   setenv GZIP "\-8v \-\-name"
   для MSDOS: set GZIP=\-8v \-\-name

.fi
.RE
На Vax/VMS, ця змінна називатиметься GZIP_OPT, щоб уникнути збігу зі змінною, що використовується для виклику програми. 

.SH " Діагностика "
.PP
Вдалий статус виходу програми дорівнює 0; якщо відбулася помилка, статус виходу дорівнюватиме 1. Якщо попередження \- 2. Ви можете отримати наступні повідомлення: 

.TP
.B Usage
 gzip [\-cdfhlLnNrtvV19] [\-S suffix] [file ...]: На командному рядку вказано неправильні опції. 

.TP
.B file
 not in gzip format: Вказаний \fBgzip\fR файл не є стисненим. 

.TP
.B file
 Corrupt input. Use zcat to recover some data.: Стиснений файл пошкоджено. Для здобуття даних до місця пошкодження, можна використати 

.RS
.nf
    zcat file > recover

.fi
.RE
.TP
.B file
 compressed with xx bits, can only handle yy bits: Файл стиснено (за використанням LZW) якоюсь програмою, спроможною обробляти більше бітів, ніж код розтиску на цій машині. 

.TP
.B file
 already has .gz suffix \-\- no change: Припускається, що файл вже було стиснено. Змініть назву файлу та спробуйте знову. 

.TP
.B file already exists; do you wish to overwrite (y or n)?
 Введіть "y", якщо ви хочете замінити вже існуючий файл, і "n" \- якщо ні. 

.TP
.B gunzip
 corrupt input: Виявлено порушення SIGSEGV, що означає, як правило, що ввідний файл пошкоджено. 

.TP
.B xx.x% Percentage of the input saved by compression.
 Відсоток збереженого файлу. (Доречне тільки з опціями \fB\-v\fR та \fB\-l\fR.) 

.TP
.B \-\- not a regular file or directory
 ignored: Якщо ввідний файл не є звичайним файлом або каталогом (тобто, це символічне посилання, сокет, FIFO, пристроєвий файл), його залишено незмінним. 

.TP
.B \-\- has xx other links
 unchanged: Ввідний файл має посилання; залишено незмінним. Дивіться \fBln\fR(1) для додаткової інформації. Скористайтеся з прапорця \fB\-f\fR, щоб примусити стиснення файлів з багатьма посиланнями. 

.SH " Застереження "
.PP
Під час запису стиснених даних на стрічку, як правило, необхідно заповнити вивід нулями до межі блоку. Під час зчитування даних, \fBgunzip\fR для розтиску передається цілий блок, тож \fBgunzip\fR виявить додатковий непотріб в кінці блоку та видасть попередження. Вам слід скористатися з опції \fB\-\-quiet ,\fR для блокування попереджень. Цю опцію можна встановити в змінній середовища \fBGZIP\fR:

.RS
.nf
    для sh:  GZIP="\-q"  tar \-xfz \-\-block\-compress /dev/rst0
    для csh: (setenv GZIP \-q; tar \-xfz \-\-block\-compr /dev/rst0

.fi
.RE
У вищенаведеному прикладі, \fBgzip\fR приховано викликається опцією \fB\-z\fR програми \fBtar\fR(1). Впевніться, що \fBtar\fR використовує той самий розмір блоку (опція \fB\-b\fR) для читання і запису на стрічковий пристрій. (Цей приклад передбачає, що ви користуєтесь GNU\-версією \fBtar\fR.) 

.SH " Вади "
.PP
Формат \fBgzip\fR відповідає розмірові вводу, кратному 2^32, тож опція 
\fB\-\-list\fR звітує неправильні розміри нестиснених файлів і коефіцієнти стиснення для файлів, нестиснений розмір яких перевищує 4 Гігабайти. Щоб обійти цей недолік, ви можете скористатися з наступної команди, для того, щоб дізнатися про дійсний розмір великого файлу: 

.RS
.nf
    zcat file.gz | wc \-c

.fi
.RE
Опція \fB\-\-list\fR також доповідає розміри як рівні \-1, а CRC як ffffffff, якщо стиснений файл знаходиться на носієві, недосяжному для пошуку. 

Зрідка, опція \fB\-\-best\fR спричиняє до гіршого ущільнення, ні стандартний рівень стиснення (\-6). З деякими надзвичайно великими файлами, 
\fBcompress\fR(1) справляється краще за \fBgzip\fR. 

.SH " Дивіться також "
.PP
\fBznew\fR(1), \fBzcmp\fR(1), \fBzmore\fR(1), \fBzforce\fR(1), \fBgzexe\fR(1), \fBzip\fR(1), \fBunzip\fR(1), \fBcompress\fR(1), \fBpack\fR(1), \fBcompact\fR(1) 

Формат файлу \fBgzip\fR описано в "P. Deutsch, GZIP file format specification version 4.3", <ftp://ftp.isi.edu/in\-notes/rfc1952.txt>, Internet RFC 1952 (Квітень 1996\-го року). Формати розтиску описано в "P. Deutsch, DEFLATE Compressed Data Format Specification version 1.3, <ftp://ftp.isi.edu/in\-notes/rfc1951.txt>, Internet RFC 1951 (Квітень 1996\-го року). 


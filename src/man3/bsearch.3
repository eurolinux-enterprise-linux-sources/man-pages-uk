." © 2005-2007 DLOU, GNU FDL
." URL: <http://docs.linux.org.ua/index.php/Man_Contents>
." Supported by <docs@linux.org.ua>
."
." Permission is granted to copy, distribute and/or modify this document
." under the terms of the GNU Free Documentation License, Version 1.2
." or any later version published by the Free Software Foundation;
." with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
." 
." A copy of the license is included  as a file called COPYING in the
." main directory of the man-pages-* source package.
."
." This manpage has been automatically generated by wiki2man.py
." This tool can be found at: <http://wiki2man.sourceforge.net>
." Please send any bug reports, improvements, comments, patches, etc. to
." E-mail: <wiki2man-develop@lists.sourceforge.net>.

.TH "bsearch" "3" "2007-10-27-16:31" "© 2005-2007 DLOU, GNU FDL" "2007-10-27-16:31"

.SH " НАЗВА "
.PP
bsearch \- бінарний пошук сортованого масиву 

.SH " ОГЛЯД "
.PP

.RS
.nf
  <b>#include <stdlib.h></b> 

  <b>void *bsearch(const void *</b><i>key</i><b>, 
          const void *</b><i>base</i><b>, size_t </b><i>nmemb</i><b>,</b> <b>size_t </b><i>size</i><b>, 
          int (*</b><i>compar</i><b>)(const void *, const void *));</b>

.fi
.RE

.SH " ОПИС "
.PP
Функція \fBbsearch()\fR здійснює пошук по масиву з \fInmemb\fR об'єктами, \fIbase\fR вказуючи на початковий елемент мсиву, на предмет елементу, що співпадає з об'єктом, на який вказує \fIkey\fR. Розмір елеметів масиву вказується через \fIsize\fR. 

Вміст масиву повинен знаходитись у зростаючій сортованій послідовності, згідно з функцією порівнювання, на яку посилається \fIcompar\fR. Функція порівнювання, вказана \fIcompar\fR очікується, що матиме два аргументи, що показують на ключовий об'єкт і на елемент масиву, саме в цій послідовності і повинна повертати ціле менше, рівне або більше нуля, якщо ключовий об'єкт є, відповідно, меншим за, рівним або більшим за елемент масиву. 

.SH " ПОВЕРНЕНІ ЗНАЧЕННЯ "
.PP
Функція \fBbsearch()\fR повертає покажчик на співпадаючий елемент масиву або NULL, якщо співпадання не відбулося. Якщо існує декілька елементів, що співпадають із \fIkey\fR, повернений елемент не буде вказано. 

.SH " ПРИКЛАД "
.PP
Приклад нижче спочатку сортує масив, використовуючи \fBqsort\fR(3), після чого видобуває бажаний елемент за допомогою \fBbsearch()\fR.

.RS
.nf

    #include <stdio.h>
    #include <stdlib.h>
    #include <string.h>

    struct mi {
        int nr;
        char *name;
    } months[] = {
        { 1, "jan" }, { 2, "feb" }, { 3, "mar" }, { 4, "apr" },
        { 5, "may" }, { 6, "jun" }, { 7, "jul" }, { 8, "aug" },
        { 9, "sep" }, {10, "oct" }, {11, "nov" }, {12, "dec" }
    };

    #define nr_of_months (sizeof(months)/sizeof(months[0]))

    static int compmi(const void *m1, const void *m2) {
        struct mi *mi1 = (struct mi *) m1;
        struct mi *mi2 = (struct mi *) m2;
        return strcmp(mi1\->name, mi2\->name);
    }

    int main(int argc, char **argv) {
         int i;

         qsort(months, nr_of_months, sizeof(struct mi), compmi);
         for (i = 1; i < argc; i++) {
             struct mi key, *res;
             key.name = argv[i];
             res = bsearch(&key, months, nr_of_months,
                 sizeof(struct mi), compmi);
             if (res == NULL)
                 printf("'%s': unknown month\en", argv[i]);
             else
                 printf("%s: month #%d\en", res\->name, res\->nr);
        }
        return 0;
    }

.fi
.RE
 

.SH " ВІДПОВІДНІСТЬ СТАНДАРТАМ "
.PP
SVID 3, BSD 4.3, ISO 9899 (C99) 

.SH " ДИВІТЬСЯ ТАКОЖ "
.PP
\fBhsearch\fR(3), \fBlsearch\fR(3), \fBtsearch\fR(3), \fBqsort\fR(3)


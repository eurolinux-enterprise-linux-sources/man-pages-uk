." © 2005-2007 DLOU, GNU FDL
." URL: <http://docs.linux.org.ua/index.php/Man_Contents>
." Supported by <docs@linux.org.ua>
."
." Permission is granted to copy, distribute and/or modify this document
." under the terms of the GNU Free Documentation License, Version 1.2
." or any later version published by the Free Software Foundation;
." with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
." 
." A copy of the license is included  as a file called COPYING in the
." main directory of the man-pages-* source package.
."
." This manpage has been automatically generated by wiki2man.py
." This tool can be found at: <http://wiki2man.sourceforge.net>
." Please send any bug reports, improvements, comments, patches, etc. to
." E-mail: <wiki2man-develop@lists.sourceforge.net>.

.TH "syslog-ng.conf" "5" "v 1.6.7 переклад: бета версія 2007-10-27-16:31" "© 2005-2007 DLOU, GNU FDL" "Журналізатор подій в Юнікс"

.SH "ІМ'Я"
.PP

\fB/etc/syslog\-ng/syslog\-ng.conf\fR \- файл налаштувань журналізатора syslog\-ng.

.SH "ОПИС"
.PP

Файл налаштувань журналізатора \fBsyslog\-ng\fR.
.br

.br

Маршрутизація повідомлень в \fBsyslog\-ng\fR здійснюється в три етапи: визначення джерел повідомлень, фільтрація повідомлень, визначення місця запису (пересилання) повідомлень.

.SH "ДЖЕРЕЛА"
.PP

Джерела повідомлень визначаються з допомогою директиви source:

.RS
.nf
 source <sourcename> { sourcedriver params; sourcedriver params; ... };

.fi
.RE
sourcename \- ім'я, яке Ви даєте групі джерел, і потім будете використовувати для посилання на цю групу. sourcedriver \- метод, яким ви одержуєте повідомлення (конкретне джерело). Існують наступні методи (джерела) повідомлень:
.br

.br

file <filename> \- зчитує повідомлення з даного файлу.
.br

.br

unix\-dgram <filename> \- зчитує повідомлення з вказаного AF_UNIX, SOCK_DGRAM сокету (BSD\-i стиль).
.br

.br

unix\-stream <filename> \- зчитує повідомлення з вказаного AF_UNIX, SOCK_STREAM сокету (Linux style).
.br

.br

udp <ip>,<port> \- зчитує повідомлення з мережі використовуючи протокол UDP, що приходять на адрес <ip> і в порт <port>. Якщо не бажаєте прив'язуватись до конкретного інтерфейсу вкажіть 0.0.0.0.
.br

.br

tcp <ip>,<port> \- по аналогії з udp тільки для отримання даних цього разу використовується протокол TCP.
.br

.br

sun\-streams <filename> \- локальне джерело Solaris систем.

.SH "ПРИЗНАЧЕННЯ"
.PP

Призначення може бути створене використовуючи директиву destination:

.RS
.nf
 destination <destname> { destdriver params; destdriver params; ... ; };

.fi
.RE
destname \- ім'я, яке Ви даєте місцю призначення повідомлень, і потім будете використовувати для посилання на це місце.
.br

.br

.RS
.nf
 

.fi
.RE
destdriver \- місце, куди пересилаєте (записуєте) повідомлення. Існують наступні місця призначень повідомлень:
.br

.br

file <filename> \- записує повідомлення у вказаний файл.
.br

.br

unix\-dgram <filename> \- записує повідомлення у вказаний AF_UNIX, SOCK_DGRAM сокет (BSD\-i style).
.br

.br

unix\-stream <filename> \- записує повідомлення у вказаний AF_UNIX, SOCK_STREAM сокет (Linux style).
.br

.br

udp <ip>,<port> \- пересилає повідомлення по мережі використовуючи UDP протокол.
.br

.br

tcp <ip>,<port> \- пересилає повідомлення по мережі використовуючи TCP протокол.
.br

.br

usertty <username> \- посилає повідомлення на термінал вказаного користувача.

.SH "ФІЛЬТРИ"
.PP

Фільтри можна створювати використовуючи директиву filer:

.RS
.nf
 filter <filtername> { expression; };

.fi
.RE
filtername \- ім'я, яке Ви даєте фільтру, і потім будете використовувати для посилання на цей фільтр.
.br

.br

.RS
.nf
 

.fi
.RE
expression \- простий логічний вираз, в якому можна використовувати "and", "or" та "not" для з'єднання будуючих функцій. Перелік можливих функцій:
.br

.br

facility( перелік через кому імен facility )
.br

.br

level( перелік через кому імен пріоритетів чи границі областей розділені ".." )
.br

.br

program( регулярний вираз що відповідає імені програми )
.br

.br

host( регулярний вираз що відповідає імені компа )
.br

.br

match( регулярний вираз що відповідає імені програми )

.SH "ЗАПИС ПОВІДОМЛЕННЯ"
.PP

Зв'язок між sources, filter та destinations здійснюється з допомогою директиви log, яка і робить саме запис (пересилання) повідомлення:

.RS
.nf
 log { source S1; source S2; ... filter F1; filter F2; ... destination D1; destination D2; ... };

.fi
.RE
Де Sx імена джерел, Fx імена фільтрів, Dx імена призначень. Всі фільтри виконуються послідовно!

.SH "ОПЦІЇ"
.PP

Можна вказати декілька глобальних опцій для syslog\-ng у директиві options:

.RS
.nf
 options { opt1; opt2; ... };

.fi
.RE
Де опціями можуть бути будь\-що з наступного:

.TP
.B chain_hostnames(yes|no)
 включає повні доменні імена.

.TP
.B long_hostnames(yes|no)
 застаріле посилання на chain_hostnames().

.TP
.B keep_hostname(yes|no)
 Вказує чи довіряти імені комп'ютера коли воно включене в повідомлення. Якщо keep_hostname встановлене в yes і це є ім'я комп'ютера в повідомлені, його залишають, в іншому випадку воно завжди переписується на основі інформації звідки прийшло повідомлення.

.TP
.B use_dns(yes|no)
 Включає чи виключає підтримку DNS. syslog\-ng блокується при DNS запитах, отже включення DNS може привести до атаки недоступності сервісу DoS. Для запобігання DoS, захищайте Вашу мережу з syslog\-ng за допомогою правил мережевого екрану та переконайтесь що імена всіх комп'ютерів, котрі доступаються до syslog\-ng розв'язуються.

.TP
.B use_fqdn(yes|no)
 вказує використовувати повні доменні імена замість коротких.

.TP
.B check_hostname(yes|no)
 дозволяє чині в залежності від присутності дозволених символів у імені комп'ютера.

.TP
.B bad_hostname(regex)
 регулярний вираз котрий вказує ім'я комп'ютера котре не повинно використовуватись.

.TP
.B dns_cache(yes|no)
 вказує використовувати чи ні кеш DNS.

.TP
.B dns_cache_expire(n)
 Кількість секунд скільки потрібно зберігати успішний розв'язок DNS.

.TP
.B dns_cache_expire_failed(n)
 Кількість секунд скільки потрібно зберігати не успішний розв'язок DNS.

.TP
.B dns_cache_size(n)
 Число комп'ютерів у DNS кеші.

.TP
.B create_dirs(yes|no)
 дозволяє чи забороняє створювати директорії призначень файлів.

.TP
.B dir_owner(uid)
 вказує власника директорії.

.TP
.B dir_group(gid)
 вказує групу власників директорії.

.TP
.B dir_perm(perm)
 вказує права допуску до директорії (вісімкові).

.TP
.B owner(uid)
 вказує власника файлу.

.TP
.B group(gid)
 вказує групу власників файлу.

.TP
.B perm(perm)
 вказує права допуску до файлу (вісімкові).

.TP
.B gc_busy_threshold(n)
 Встановлює поріг для зберігання сміття, коли syslog\-ng є зайнятий.  Фаза GC починається коли число розміщених об'єктів досягає вказаного. По замовчуванню: 3000.

.TP
.B gc_idle_threshold(n)
 Встановлює поріг для зберігання сміття, коли syslog\-ng є вільний. Фаза GC починається коли число розміщених об'єктів досягає вказаного. По замовчуванню: 100.

.TP
.B log_fifo_size(n)
 Число рядків що поміщається у вихідній черзі. Кожне місце призначення має свою персональну вихідну чергу.

.TP
.B log_msg_size(n)
 максимальний розмір повідомлення в байтах. (Деякі реалізації мають цей параметр фіксованим у 1024 символ.)

.TP
.B mark(n)
 Число секунд між двома MARK рядками.  (Ще не реалізоване.)

.TP
.B stats(n)
 Число секунд між двома повідомленнями статистики.

.TP
.B sync(n)
 Число рядків, що зберігаються в черзі перед записом у файл ( можна перестановити локально )

.TP
.B time_reap(n)
 Час очікування перед закриттям вільного файлу призначень.

.TP
.B time_reopen(n)
 Число секунд очікування перед поновленням розірваного зв'язку.

.TP
.B use_time_recvd(yes|no)
 Ця змінна використовується тільки для загального розширення, де часове значення спеціального макросу залежить від цієї опції, однак так, як існують окремі макроси для звернення до часової мітки отриманих повідомлень (R_ macros) та часова мітка записаного повідомлення (S_), використання цієї опції не рекомендоване.

.SH "ФАЙЛИ"
.PP

/etc/syslog\-ng/syslog\-ng.conf

.SH "АВТОРСЬКІ ПРАВА"
.PP

syslog\-ng та цей файл є Copyright (c) 1999\-2004 BalaBit IT Ltd, частина була розповсюджена Джозефом Педром Олів'єром (Jose Pedro Oliveira).

.SH "ПОДІБНІ ТЕМИ"
.PP

\fB syslog\-ng(8)\fR, \fB syslogd(8)\fR.


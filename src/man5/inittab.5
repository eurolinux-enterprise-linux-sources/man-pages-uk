." © 2005-2007 DLOU, GNU FDL
." URL: <http://docs.linux.org.ua/index.php/Man_Contents>
." Supported by <docs@linux.org.ua>
."
." Permission is granted to copy, distribute and/or modify this document
." under the terms of the GNU Free Documentation License, Version 1.2
." or any later version published by the Free Software Foundation;
." with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
." 
." A copy of the license is included  as a file called COPYING in the
." main directory of the man-pages-* source package.
."
." This manpage has been automatically generated by wiki2man.py
." This tool can be found at: <http://wiki2man.sourceforge.net>
." Please send any bug reports, improvements, comments, patches, etc. to
." E-mail: <wiki2man-develop@lists.sourceforge.net>.

.TH "inittab" "5" "2007-10-27-16:31" "© 2005-2007 DLOU, GNU FDL" "2007-10-27-16:31"

.SH "НАЗВА"
.PP
inittab \- формат файлу inittab, використовуваного сумісним з sysv процесом init

.SH "ОПИС"
.PP
Файл \fBinittab\fR описує,  які  процеси  запускаються  під  час
старту  системи  і під звичайної роботи комп'ютера (тобто,
які    скрипти     виконуються     з  /etc/init.d/boot, /etc/init.d/rc,   параметри getty  і.т.д.). \fBinitd\fR(8)
розпізнає багатократні робочі рівні, кожен з яких  включає набір процесів, що  започатковуються. Дійсними робочими рівнями є \fB0\-6\fR і \fBA\fR, \fBB\fR і \fBC\fR для записів \fBondemand\fR (англ. за вимогою). Записи в \fBinittab\fR мають наступну форму:

.RS
.nf
 \fIid\fR\fB:\fR\fIrunlevels\fR\fB:\fR\fIaction\fR\fB:\fR\fIprocess\fR

.fi
.RE
Рядки,  що  починаються  з  "#" вважаються коментарем і не беруться до уваги.

.TP
.B \fIid\fR
 Ідентифікаційний номер. Унікальна  послідовність  з 1\-4  чисел  для ідентифікації запису в \fBinittab\fR (для sysvinit, компільованої з  бібліотеками  до  5.2.18 або a.out \- лише 2 знаки).
.br

.br
Примітка: для \fBgetty\fR  або  інших процесів реєстрації користувачів,              поле \fIid\fR повинно  дорівнювати  суфіксу  відповідного tty,  на якому відбудеться реєстрація, наприклад, \fB1\fR для  \fItty1\fR.   У  протилежному  випадку,   реєстрація користувачів може не працювати як слід.
.TP
.B \fIrunlevels\fR
 Робочі   рівні.  Перелік  робочих  рівнів,  у  яких відповідна дія матиме місце.
.TP
.B \fIaction\fR
 Дія. Поле, що вказує на дію, яка відбудеться.
.TP
.B \fIprocess\fR
 Процес. Вказує на процес, який необхідно запустити. Якщо  це  поле  починається зі  знаку '\fB+\fR', \fBinit\fR не робитиме журнальні записи у utmp і wtmp  для  цього процесу.  Це  може згодитись для програм \fBgetty\fR, які  наполягають  на  самостійному   ведені   журнальних  записів   до   utmp/wtmp.   (Це   також  вважається історичним недоліком.)

Поле робочих рівнів, \fIrunlevels\fR,  може  містити  знаки  для  декількох рівнів. Так, \fB123\fR означає, що процес повинен бути запущено у робочих рівнях  1,  2  і  3.   Записи  \fBondemand\fR  можуть  містити  позначення робочих рівнів \fBA\fR, \fBB\fR і \fBC\fR.  Поле \fIrunlevels\fR  для  пунктів  \fBsysinit\fR,  \fBboot\fR  і  \fBbootwait\fR  буде ігноровано.

Під час зміни робочого рівня, всі процеси, що не вказано у  новому робочому рівні буде вбито,  спочатку  за  допомогою SIGTERM, затім SIGKILL.

Чинними діями для поля \fIaction\fR є:

.TP
.B \fBrespawn\fR
 Процес  буде  перезаладовано  якщо  він  обірветься (наприклад getty).
.TP
.B \fBwait\fR
 Процес  запуститься  один  раз  при  входженні  до відповідного  робочого  рівня  і  \fBinit\fR  зачекає  на закінчення цього процесу.
.TP
.B \fBonce\fR
 Процес буде виконано  один  раз  при  входженні  до вказаних робочих рівнів.
.TP
.B \fBboot\fR
 Процес  буде виконано під час завантаження системи. Поле робочих рівнів \fIrunlevel\fR ігноровано.
.TP
.B \fBbootwait\fR
 Процес буде виконано під час завантаження  системи, \fBinit\fR   очікуючи   на   його  завершення  (наприклад  /etc/rc). Поле робочих рівнів runlevel  ігноровано.
.TP
.B \fBoff\fR
 Не здійснює жодної дії.
.TP
.B \fBondemand\fR
  Процес, позначений як \fBondemand\fR буде виконано тільки  коли  викликати   вказаний   робочий   рівень   "за  вимогою".  Однак, сам перехід до робочого рівня "за              вимогою"  не  відбудеться.   (Нагадуємо,   робочими  рівнями  для  ondemand  можуть бути лише `a', `b' і `c'.)
.TP
.B \fBinitdefault\fR
 Запис \fBinitdefault\fR вказує на робочий рівень на якому зупинитись під час завантаження системи. Якщо жоден  не вказано, \fBinit\fR запитає користувача  на  системній  консолі. Поле \fIprocess\fR ігнорується.
.TP
.B \fBsysinit\fR
 Процес  буде виконано під час завантаження системи. Його виконання відбудеться  до  будь\-яких  процесів навпроти  \fBboot\fR або \fBbootwait\fR записів. Поле \fIrunlevels\fR ігнорується.
.TP
.B \fBpowerwait\fR
 Процес буде виконано  у  випадку  втрати  живлення.\fBInit\fR,  як  правило, буде поінформовано про це через  один з процесів комунікації  з  резервною  батареєю              UPS,  підключеною  до  комп'ютера. \fBInit\fR зачекає на  завершення процесу з \fBpowerwait\fR запису, перед тим як  продовжувати будь\-які інші дії.
.TP
.B \fBpowerfail\fR
 Схоже до \fBpowerwait\fR, за виключенням того, що \fBinit\fR не  очікує завершення процесу.
.TP
.B \fBpowerokwait\fR
 Процес буде виконано, як тільки \fBinit\fR  поінформовано про відновлення живлення.
.TP
.B \fBpowerfailnow\fR
 Процес  буде  виконано коли \fBinit\fR буде поінформовано  про  виснаження  резервної  батареї  UPS  (лише   у  випадку,  що  спостерігаючий процес в змозі виявити  такий стан).
.TP
.B \fBctrlaltdel\fR
 Процес буде виконано  при  отриманні  init  сигналу  SIGINT.  Це  означає, що хтось на системній консолі  притиснув клавішну комбінацію \fBCTRL\-ALT\-DEL\fR. Типово,             вона  використовується,  якщо  хтось  хоче виконати  \fBshutdown\fR,  тобто   зупинити   систему,   увійти у однокористувацький    режим   або   перезавантажити систему.
.TP
.B \fBkbrequest\fR
 Процес  буде  виконано  у  випадку  отримання  \fBinit\fR сигналу від оброблювача сигналів клавіатури про те, що певна спеціальна комбінація клавіш була  введена на консолі.
.br

.br
Документацію  цієї  функції  не  є  завершеною.  Додаткову документацію слід шукати у пакеті kbd\-x.xx  (найостаннішим був kbd\-0.94, під час складання цього документу). Загалом, вам необхідно закріпити певну  комбінацію  клавіш  до  дії
"KeyboardSignal".  Наприклад,  щоб вказати комбінацію Alt\-Uparrow як спеціальну, добавте наступне у файл keymaps:

.RS
.nf
 
              alt keycode 103 = KeyboardSignal

.fi
.RE

.SH "ПРИКЛАДИ"
.PP
Наступне  є  прикладом \fBinittab\fR,   схожого з тими, що використовувались на ранніх системах Linux:

.RS
.nf
              # inittab for linux
              id:1:initdefault:
              rc::bootwait:/etc/rc
              1:1:respawn:/etc/getty 9600 tty1
              2:1:respawn:/etc/getty 9600 tty2
              3:1:respawn:/etc/getty 9600 tty3
              4:1:respawn:/etc/getty 9600 tty4

.fi
.RE
У  цьому  прикладі  виконується  (скрипт)  /etc/rc під час
завантаження і запускається \fBgetty\fR на  терміналах  \fItty1\fR  до \fItty4\fR.

Наступне  є складнішим прикладом \fBinittab\fR, з різноманітними робочими рівнями (дивіться коментарі всередині):

.RS
.nf
              # На якому робочому рівні зупинитися.
              id:2:initdefault:

              # Системна ініціалізація, перед усім іншим.
              si::sysinit:/etc/rc.d/bcheckrc

              # Рівень 0,6 для зупинки і рестарту,
              # 1 \- для однокористувацького режиму.
              l0:0:wait:/etc/rc.d/rc.halt
              l1:1:wait:/etc/rc.d/rc.single
              l2:2345:wait:/etc/rc.d/rc.multi
              l6:6:wait:/etc/rc.d/rc.reboot

              # Що робити у випадку "3\-пальцевого салюту".
              ca::ctrlaltdel:/sbin/shutdown \-t5 \-rf now

              # Рівні 2 і 3: getty на консолі; 3 \- getty на порту
              # модема.
              1:23:respawn:/sbin/getty tty1 VC linux
              2:23:respawn:/sbin/getty tty2 VC linux
              3:23:respawn:/sbin/getty tty3 VC linux
              4:23:respawn:/sbin/getty tty4 VC linux
              S2:3:respawn:/sbin/uugetty ttyS2 M19200
 

.fi
.RE

.SH "ФАЙЛИ"
.PP
.RS
\fI/etc/inittab\fR
.RE

.SH "АВТОР"
.PP
\fBInit\fR  була  написана    Miquel     van     Smoorenburg (miquels@cistron.nl).   Цей  посібник  складено  Sebastian  Lederer (lederer@francium.informatik.unibonn.de) і змінено       Michael Haardt (u31b3hs@pool.informatik.rwth\-aachen.de).

.SH "ДИВІТЬСЯ ТАКОЖ"
.PP
\fBinit\fR(8), \fBtelinit\fR(8)

\-\-\-\-
Переклав Віталій Цибуляк <vi@uatech.atspace.com> 


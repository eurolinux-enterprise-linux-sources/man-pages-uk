." © 2005-2007 DLOU, GNU FDL
." URL: <http://docs.linux.org.ua/index.php/Man_Contents>
." Supported by <docs@linux.org.ua>
."
." Permission is granted to copy, distribute and/or modify this document
." under the terms of the GNU Free Documentation License, Version 1.2
." or any later version published by the Free Software Foundation;
." with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
." 
." A copy of the license is included  as a file called COPYING in the
." main directory of the man-pages-* source package.
."
." This manpage has been automatically generated by wiki2man.py
." This tool can be found at: <http://wiki2man.sourceforge.net>
." Please send any bug reports, improvements, comments, patches, etc. to
." E-mail: <wiki2man-develop@lists.sourceforge.net>.

.TH "apt.conf" "5" "25 Oct 2000 2007-10-27-16:31" "© 2005-2007 DLOU, GNU FDL" "apt\&.conf"

." .TH "apt\&.conf" "5" "25 Oct 2000" "apt" ""  

.SH "НАЗВА"
.PP

apt.conf \- файл налаштувань для APT 

.SH "ОПИС"
.PP

\fBapt.conf\fR є головним файлом налаштувань для комплексу інструментів APT, всі інструменти користуються цим файлом та спільним обробником командного рядка щоб мати єдине середовище. Коли інструмент APT стартує, він читає \fB/etc/apt/apt.conf\fR, потім читає налаштування визначене змінною середовища \fB$APT_CONFIG\fR і потім остаточно застосовує параметри командного рядка для перекриття значень файлу налаштувань, можливе завантаження декількох   файлів налаштувань. 

Файл налаштувань організовано у дерево з зібраними у функціональні групи  параметрами. Визначення можливостей дається у формі з двома двокрапками,  наприклад, \fIAPT::Get::Assume\-Yes\fR можливість в межах групи інструментів APT, для інструменту Get. Можливості не успадковуються з батьківських груп. 

За формою запису, мова налаштування подібна до такої у інструментах ISC,  таких як bind та dhcp. Кожен рядок має такий вигляд 

APT::Get::Assume\-Yes "true"; 

Кінцева крапка з комою обов'язкова, а лапки \- ні.  Нова \fIгрупа\fR може бути відкрита за допомогою фігурних дужок, на зразок:   

.RS
.nf
 
APT {
  Get {
    Assume\-Yes "true";
    Fix\-Broken "true";
  };
};

.fi
.RE

де текст розбито на рядки задля більш легкого розуміння.  Перелік може бути створено відкриттям групи з одного слова  у лапках за яким стоїть кома з крапкою.  Взагалі, приклад файлу налаштувань у \fI/usr/doc/apt/examples/apt.conf\fR та \fI/usr/doc/apt/examples/configure\-index\fR  (або \fI/usr/share/doc/apt*/examples/configure\-index\fR для Conectiva) добра порада як все має бути. 

Всі інструменти APT мають параметр \-o, що дозволяє виставити довільну можливість  налаштування у потрібне значення з командного рядка. Запис \- повна назва можливості (APT::Get::Assume\-Yes наприклад) за якою стоїть знак дорівнює та нове значення параметру. Перелік можна доповнювати також додаючи кінцеве :: до назви переліку. 

.SS "ГРУПА APT"
.PP

Ця група параметрів впливає на загальну поведінку APT та включає параметри, що спільні для всіх інструментів. 

.SS "Architecture"

.PP

Архітектура системи; встановлює для якої архітектури завантажувати файли та  опрацьовувати перелік пакунків. Внутрішнім стандартом є архітектура для якої було скомпільовано apt. 

.SS "Ignore\-Hold"

.PP

Не помічати пакунки, що повинні утримуватися; Ці загальні можливості  примушують систему розв'язування конфліктів не помічати пакунки, що позначені для утримання, під час роботи.  

.SS "Clean\-Installed"

.PP

Стандартно \-  включено. Коли включено, риса автоматичного очищення видаляє  всі пакунки, що можуть більше не знадобитися в кеші. Коли виключено, то вже встановлені пакунки також виключаються з очищення \- проте, зважте, що  APT не дає прямої можливості їх перевстановлення. 

.SS "Immediate\-Configure"

.PP

Заборонити негайне налаштування; Ця небезпечна можливість забороняє деякий код APT щоб змусити його виконати деякі виклики dpkg. Така робота може бути потрібною на певних надто повільних системах одного користувача, але  є дуже небезпечною і може змушувати сценарії встановлення пакунків помилятися. Користуйтеся на свій особистий розсуд. Ця можливість не діє у системах з RPM. 

.SS "Force\-LoopBreak"

.PP

Ніколи не користуйтеся цією можливістю, доки не зрозумієте, що \-дійсно\- ви робите. Вона дозволяє APT тимчасово видалити важливі для системи пакунки щоб розірвати зациклення Conflicts/Conflicts або Conflicts/Pre\-Depend між двома необхідними для роботи системи пакунками. ТАКІ ЗАЦИКЛЕННЯ НІКОЛИ НЕ ПОВИННІ ІСНУВАТИ І Є ГРУБІШОЮ ПОМИЛКОЮ. Ця можливість буде працювати, якщо таким необхідним пакунком будуть не tar, gzip, libc, dpkg, bash або  щось від чого залежать ці пакунки. 

.SS "Cache\-Limit"

.PP

APT використовує файл кешу фіксованого розміру пам'яті з відображенням для збереження доступних відомостей. Це встановить розмір цього кешу. 

.SS "Get"

.PP

Підрозділ Get впливає на інструмент \fBapt\-get (8)\fR, будь ласка, дивіться його документацію за доступними тут можливостями. 

.SS "Cache"

.PP

Підрозділ Cache впливає на інструмент \fBapt\-cache (8)\fR, будь ласка, дивіться  його документацію за доступними тут можливостями. 

.SS "CDROM"

.PP

Підрозділ CDROM впливає на інструмент \fBapt\-cdrom(8)\fR, будь ласка, дивіться  його документацію за доступними тут можливостями.  

.SS "ГРУПА Acquire"
.PP

Група можливостей \fBAcquire\fR впливає на завантаження пакунків та роботу з  URI.  

.SS "Queue\-Mode"

.PP

Режим черги; \fBQueue\-Mode\fR може бути або \fBhost\fR або \fBaccess\fR, що  визначає як APT встановлює вихідні з'єднання. \fBhost\fR значить, що буде відкрито одне з'єднання на кожну цільову машину, \fBaccess\fR значить, що одне з'єднання буде відкриватися на кожен тип URI. 

.SS "Retries"

.PP

Кількість спроб виконання. Коли це не нуль, apt буде повторювати завантаження файлів для яких сталася помилка зазначену кількість разів. 

.SS "Source\-Symlinks"

.PP

Використовувати посилання для архівів джерел. Коли встановлено у true, то для архівів джерел будуть використовуватися посилання, де це можливо, замість копіювання. True \- стандартне значення. 

.SS "http"

.PP

HTTP URIs; \fIhttp::Proxy\fR \- стандартний посередник, що використовується для роботи з http. Стандартна форма запису: \fIhttp://[[user][:pass]@]host[:port]/\fR.  Посередник для певної системи може бути визначеним також у формі \fIhttp::Proxy::<host>\fR з службовим словом \fIDIRECT\fR, що значить не користуватися посередником. Змінна оточення \fI$http_proxy\fR  відмінить всі інші налаштування. 
Існують три можливості впливу на кеш у випадку з кешем посередника, що  узгоджується з HTTP/1.1. \fBNo\-Cache\fR говорить посереднику не користуватися вже збереженою відповіддю ні за яких обставин, \fBMax\-Age\fR відсилається лише  для індексних файлів та зобов'язує поновити їх кешований варіант, коли він старший за зазначену кількість секунд.  У Debian індексні файли поновлюються раз на добу, тому типовим є 1 день.  \fBNo\-Store\fR зазначає, що кеш не повинен зберігати ці запити, це діє лише для файлів архівів. Це може бути корисним для запобігання засмічення кешу посередника надто великими .deb файлами. Зауваження: Squid 2.0.2  не підтримує жодної з цих можливостей.  
Параметр \fBtimeout\fR встановлює час очікування, що використовується цим методом, і впливає на все, включаючи час очікування для з'єднання та  отримання даних. 
Один параметр дозволяє впливати на глибину перенаправлення у випадку, коли віддалений обслуговник не відповідає RFC або з помилками (як Squid 2.0.2) \fIAcquire::http::Pipeline\-Depth\fR може мати значення від 0 до 5, що визначає як багато вихідних запитів APT міг би зробити. 

.SS "ftp"

.PP

FTP URis; \fIftp::Proxy\fR яким посередником обслуговником ftp користуватися стандартно. Запис повинен мати наступну форму \fIftp://[[user][:pass]@]host[:port]/\fR та  перекривається змінною середовища ftp_proxy .  Щоб користуватися посередником для ftp вам треба встановити сценарій \fIftp::ProxyLogin\fR у файлі налаштувань. Цей запис визначає  якою командою посилати повідомлення посереднику обслуговнику хто з ним з'єднується. Будь ласка, дивись \fI/usr/doc/apt/examples/configure\-index\fR  за прикладом як це зробити. Доступні для підстановки змінні такі: $(PROXY_USER), $(PROXY_PASS), $(SITE_USER), $(SITE_PASS), $(SITE), та $(SITE_PORT).  Кожен береться з свого відповідного компонента URI. 
Параметр \fBtimeout\fR встановлює таймер часу очікування, що використовується методом, це впливає на все, включаючи час очікування для з'єднання та даних. 
Є певні налаштування для роботи в пасивному режимі. Взагалі, краще залишати пасивний режим увімкненим, це працює практично завжди. Проте, деякі випадки вимагають щоб пасивний режим був вимкненим і замість того використовувався режим порту ftp. Це можна зробити загально, для з'єднань, що йдуть через посередника або для певних машин (Дивись приклад файлу налаштувань як це зробити). 
Можливо працювати через посередника FTP над HTTP встановленням змінної середовища  \fIftp_proxy\fR до http url \- дивись опис методу http відносно форми запису.  Ви не можете встановити це у файлі налаштувань і не рекомендується користуватися FTP над HTTP через малу ефективність такого методу. 

.SS "cdrom"

.PP

CDROM URIs; налаштування лише для CDROM URI \- точка монтування, cdrom::Mount що має співпадати з точкою монтування накопичувача на КД у /etc/fstab. Можливо задати інші команди монтування та розмонтування якщо ваша точка монтування не може бути прописана у fstab (випадок монтування через SMB). Форма запису \- помістити "/cdrom/"::Mount "foo"; в межах блоку для КД. Важливо не забути кінцеву похилу. Команду розмонтування можна задати через UMount. 

.SS "Каталоги"
.PP

Розділ \fBDir::State\fR містить каталоги, що мають відношення до відомостей стану системи.  \fBlists\fR \- каталог для збереження завантаженого переліку пакунків та \fBstatus\fR \- назва файлу стану dpkg. \fBDir::State\fR містить стандартний каталог для підставлення до всіх піделементів які не починаються з \fI/\fR або \fI./\fR. \fBxstatus\fR та \fBuserstatus\fR зарезервовано для використання в майбутньому. 

\fBDir::Cache\fR вказує де зберігати відомості про місцевий кеш, таке як два кеши пакунків: \fBsrcpkgcache\fR та \fBpkgcache\fR, а також місце для розташування завантажених архівів, \fBDir::Cache::archives\fR. На зразок  \fBDir::State\fR стандартний каталог, що розміщено в \fBDir::Cache\fR. 

\fBDir::Etc\fR вказує на місце розташування файлів налаштувань, \fBsourcelist\fR \- дає місце знаходження файлу джерел та \fBmain\fR \- стандартний файл налаштувань (налаштування не працює) 

На двійкові програми вказує \fBDir::Bin\fR. \fBmethods\fR визначає місце обробників режимів та \fBgzip\fR, \fBdpkg\fR, \fBrpm\fR,  \fBapt\-get\fR, \fBdpkg\-source\fR, \fBdpkg\-buildpackage\fR та \fBapt\-cache\fR визначаючи місце знаходження відповідних програм. 

.SS "APT у DSelect "
.PP

Коли APT використовується як метод \fBdselect(8)\fR декілька директив налаштування визначають типову поведінку. Вони зібрані у розділ \fBDSelect\fR. 

.SS "Clean"

.PP

Режим прибирання кешу; це значення може бути одне з always, auto, prompt та never. always буде прибирати всі архіви після їх завантаження тоді як auto буде прибирати лише те, що більше ніколи не знадобиться (замінено більш новою версією наприклад) 

.SS "Options"

.PP

Зміст цієї змінної передається \fBapt\-get (8)\fR як параметр командного рядка коли він запускається на фазі встановлення. 

.SS "UpdateOptions"

.PP

Зміст цієї змінної передається \fBapt\-get (8)\fR як параметр командного рядка коли він запускається на фазі поновлення. 

.SS "PromptAfterUpdate"

.PP

Коли встановлено у true дія [U]pdate у dselect буде завжди перепитувати про продовження.  Стандартно, перепитується лише у випадку помилок. 

.SS "Як APT викликає DPkg"
.PP

Деякі директиви впливають на роботу APT з dpkg. Всі вони зібрані в  розділі \fBDPkg\fR. 

.SS "Options"

.PP

Це перелік параметрів для пересилання dpkg. Параметри повинні визначатися у формі переліку і кожна одиниця переліку передається як один аргумент до dpkg. 

.SS "Pre\-Invoke", "Post\-Invoke"

.PP

Це перелік команд оболонки, що мають виконуватися до/після виклику dpkg. На зразок  \fBOptions\fR, вони повинні визначатися як перелік. Ці команди, викликаються одна за одною з використанням /bin/sh, у випадку помилки APT припинить роботу. 

.SS "Pre\-Install\-Pkgs"

.PP

Це перелік команд оболонки, що мають бути виконані до виклику dpkg. На зразок \fBOptions\fR вони повинні бути задані у формі переліку. Ці команди викликаються по черзі з використанням /bin/sh, коли якась виконується з помилкою, APT зупиняється. Apt буде пересилати на стандартний вхід команд назви всіх файлів .deb, що будуть встановлюватися по одній на рядок. 

.SS "Run\-Directory"

.PP

APT chdirs до цього каталогу до виклику dpkg, стандартно це /. 

.SS "Build\-Options"

.PP

Ці параметри передаються до dpkg\-buildpackage коли компілюються пакунки, стандартно забороняється підпис та робляться всі двійкові. 

.SS "Параметри налагодження"
.PP

Більшість параметрів у розділі \fBdebug\fR не цікаві для звичайного користувача, проте, \fBDebug::pkgProblemResolver\fR дає цікавий вивід про виконання команди dist\-upgrade. \fBDebug::NoLocking\fR забороняє блокування файлів і apt може виконувати певні дії у режимі звичайного користувача, також \fBDebug::pkgDPkgPM\fR (або \fBDebug::pkgRPMPM\fR) буде друкувати командний  рядок для кожного виклику dpkg. \fBDebug::IdentCdrom\fR заборонить  підключення даних statfs у ідентифікаторах (ID) КД. 

.SH "ПРИКЛАДИ"
.PP

\fB/usr/doc/apt/examples/configure\-index.gz\fR або \fB/usr/share/doc/apt*/configure\-index\fR  містять приклади файлів налаштувань, що показують типові значення для усіх доступних можливостей. 

.SH "ФАЙЛИ"
.PP

/etc/apt/apt.conf 

.SH "ДИВИСЬ ТАКОЖ"
.PP

\fBapt\-cache (8)\fR, \fBapt\-get (8)\fR

.SH "ПОМИЛКИ"
.PP

дивіться http://bugs.debian.org/apt.  Коли ви бажаєте повідомити про помилку \fBapt\-get\fR, будь ласка, подивіться \fB/usr/doc/debian/bug\-reporting.txt\fR або команду \fBbug(1)\fR. Якщо ви користуєтесь apt на системі з RPM,                    будь ласка, користуйтеся http://distro.conectiva.com.br/bugzilla/.

.SH "АВТОРИ"
.PP

apt\-get було написано командою APT <apt@packages.debian.org> та пристосовано до використання з RPM Conectiva S.A. <kojima@conectiva.com.br>. 

.SH "ПЕРЕКЛАД"
.PP

Перекладено Андрієм М. Добровольським <dobr@altlinux.ru> 20.06.2002   


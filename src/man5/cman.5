." © 2005-2007 DLOU, GNU FDL
." URL: <http://docs.linux.org.ua/index.php/Man_Contents>
." Supported by <docs@linux.org.ua>
."
." Permission is granted to copy, distribute and/or modify this document
." under the terms of the GNU Free Documentation License, Version 1.2
." or any later version published by the Free Software Foundation;
." with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
." 
." A copy of the license is included  as a file called COPYING in the
." main directory of the man-pages-* source package.
."
." This manpage has been automatically generated by wiki2man.py
." This tool can be found at: <http://wiki2man.sourceforge.net>
." Please send any bug reports, improvements, comments, patches, etc. to
." E-mail: <wiki2man-develop@lists.sourceforge.net>.

.TH "cman" "5" "v 1.01.00 переклад альфа версія 2007-10-27-16:31" "© 2005-2007 DLOU, GNU FDL" "Кластерні файлові системи"

."Copyright (C) Sistina Software, Inc.  1997-2003  All rights reserved.
." Copyright (C) 2004 Red Hat, Inc.  All rights reserved.

.SH "ІМ'Я"
.PP

\fBcman\fR \- секція \fBcman\fR файлу налаштувань \fBcluster.conf\fR.

.SH "ОПИС"
.PP

\fBCman\fR змінні налаштувань поміщаються в секції \fB<cman> </cman>\fRфайлу налаштувань \fBcluster.conf\fR. Повузлові налаштування, що відносяться до \fBcman\fR поміщаються в стандартні секції \fB<clusternode>  </clusternode>\fR Всі опції налаштування cman є необов'язкові; звично не потрібні.

.SH "ОПЦІЇ"
.PP

.TP
.B \fBUDP\fR \fIport\fR
.br
По замовчуванню, \fBcman\fR буде використовувати UDP порт 6809 для зв'язків між вузлами. Порт можна змінити наступним чином:
.br
 <cman port="6809">
.br
         </cman>

.TP
.B \fBExpected votes\fR
.br
Кількість очікуваних голосів використовується \fBcman\fR для визначення кворуму. Кластер працює з кворумом коли сума поточних членів є більше половини всіх очікуваних голосів. По замовчуванню \fBcman_tool\fR встановлює кількість очікуваних голосів, як суму всіх вузлів оголошених в \fBcluster.conf\fR. Це можна змінити вказавши змінну expected_votes наступним чином:
.br
         <cman expected_votes="3">
.br
         </cman>
.br
Якщо кластер стає розділеним на частини, невірне визначення цієї опції може привести до збільшення кворуму більш ніж однією частиною. В цьому випадку, вузли в кожній з частин надаватимуть кластерний сервіс.

.TP
.B \fBTwo node clusters\fR
.br
Звично, при зупинці вузла вузол що продовжує працювати перестане надавати кластерний сервіс із за відсутності кворуму (у випадку коли кожний вузол має 1 голос). Спеціальна опція налаштування може бути встановлена для дозволу одному вузлу, що залишився продовжувати надавати сервіс після зупинки партнера. Для цього тільки два вузла кожний з одним голосом може бути оголошений в \fBcluster.conf\fR. Опції \fBtwo_node\fR i \fBexpected_votes\fR мусять приймати значення 1 в секції \fBcman\fR:
.br
         <cman two_node="1" expected_votes="1">
.br
         </cman>

.TP
.B \fBNode votes\fR
.br
По замовчуванню кожний вузол дає 1 голос при підрахунку кворуму. Поведінку можна змінити вказавши кількість голосів, що надається вузлу наступним чином:
.br
         <clusternode name="nd1" votes="2">
.br
         </clusternode>

.TP
.B \fBNode ID\fR
.br
По замовчуванню вузлу присвоюється стан \fBnodeid\fR програмою управління кластером \fBcman\fR коли вузол приєднується до кластеру. Поведінку можна змінити вказавши \fBnodeid\fR тут. Визначивши опцію ми гарантуємо, що даний вузол завжди матиме той самий ID. Програми вузла не працюватимуть коли ви намагатиметесь вказати \fBnodeid\fR, що вже використовується кластером.
.br
         <clusternode name="nd1" nodeid="1">
.br
         </clusternode>

.TP
.B \fBMulticast network configuration\fR
.br
\fBCman\fR можна налаштувати використовувати групову адресацію замість broadcast (broadcast використовується по замовчуванню коли не вказано ніяких параметрів групової адресації). Для налаштування групової адресації використовуйте налаштування в секціях \fB<cman>\fR та \fB<clusternode>\fR:
.br
         <cman>
.br
             <multicast addr="224.0.0.1"/>
.br
         </cman>
.br
 
.br
         <clusternode name="nd1">
.br
             <multicast addr="224.0.0.1" interface="eth0"/>
.br
         </clusternode>
.br
Груповий адрес мусить відповідати та бути налаштований належним чином для мережевої карти даного вузла.

.SH "ДИВІТЬСЯ ТАКОЖ"
.PP

\fBcluster.conf(5)\fR, \fBccs(7)\fR, \fBcman_tool(8)\fR.


." © 2005-2007 DLOU, GNU FDL
." URL: <http://docs.linux.org.ua/index.php/Man_Contents>
." Supported by <docs@linux.org.ua>
."
." Permission is granted to copy, distribute and/or modify this document
." under the terms of the GNU Free Documentation License, Version 1.2
." or any later version published by the Free Software Foundation;
." with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
." 
." A copy of the license is included  as a file called COPYING in the
." main directory of the man-pages-* source package.
."
." This manpage has been automatically generated by wiki2man.py
." This tool can be found at: <http://wiki2man.sourceforge.net>
." Please send any bug reports, improvements, comments, patches, etc. to
." E-mail: <wiki2man-develop@lists.sourceforge.net>.

.TH "write" "2" "2007-10-27-16:31" "© 2005-2007 DLOU, GNU FDL" "2007-10-27-16:31"

." WRITE 2 2006-06-02 "Linux 2.0.32" "Посібник програміста Лінукса" 

.SH "Назва"
.PP
write \- здійснює запис до дескриптору файлу 

.SH "Огляд"
.PP
\fB#include <unistd.h>\fR 

\fBssize_t write(int \fR\fIfd\fR\fB, const void *\fR\fIbuf\fR\fB, size_t \fR\fIcount\fR\fB);\fR 

.SH "Опис"
.PP
Функція \fBwrite\fR записує до \fIcount\fR байтів до файлу, на який посилається дескриптор \fIfd\fR у буфер, починаючи з \fIbuf\fR. POSIX вимагає, щоб операція \fBread()\fR, яка може відбутися після завершення функції \fBwrite()\fR, повернула нові дані. Зауважте, що не всі операційні системи відповідають POSIX. 

.SH "Повернені значення"
.PP
При вдалому виконанні, повертається кількість записаних байтів (нуль вказує на те, що нічого не вдалося записати). У випадку помилки, повертається \-1 і \fIerrno\fR набуває відповідного значення. Якщо \fIcount\fR дорівнює нулю і дескриптор файлу посилається на звичайний файл, повертається 0 без додаткових ефектів. У випадку спеціальних файлів, результат системозалежний. 

.SH "Коди помилок"
.PP
.TP
.B \fBEBADF\fR
 \fIfd\fR не є дійсним дескриптором файлу або не відкрито для запису. 

.TP
.B \fBEINVAL\fR
 \fIfd\fR приєднано до об'єкту, що не підходить для запису. 

.TP
.B \fBEFAULT\fR
 \fIbuf\fR знаходиться поза межами досяжного простору адрес. 

.TP
.B \fBEFBIG\fR
 Відбулася спроба записати файл, чий розмір перевищує дозволений максимальний розмір файлу або розмір файлу процесу, або спроба запису у позиції, поза максимальне зміщення. 

.TP
.B \fBEPIPE\fR
 \fIfd\fR приєднано до конвеєру або сокету, читальну сторону якого закрито. Якщо це станеться, записуючий процес отримає також сигнал \fBSIGPIPE\fR. (Таким чином, повернене значення \fBwrite\fR можна побачити лише, якщо програма вловить, блокує або ігнорує цей сигнал.) 

.TP
.B \fBEAGAIN\fR
 Було вибрано не\-блокуючий режим читання/запису за допомогою O_NOBLOCK і запис блокуватиме. 

.TP
.B \fBEINTR\fR
 Виклик було перервано сигналом до того, як бідбувся запис якихось даних. 

.TP
.B \fBENOSPC\fR
 На пристрою, що містить файл, на який посилається \fIfd\fR, не залишилось місця для даних. 

.TP
.B \fBEIO\fR
 Відбулася помилка низького рівня під зас зміни індексного вузла. 

Інші помилки також можуть мати місце, в залежності від об'єкту, приклріпленого до \fIfd\fR. 

.SH "Відповідність стандартам"
.PP
SVr4, SVID, POSIX, X/OPEN, 4.3BSD. SVr4 згадує додаткові умови помилок EDEADLK,  ENOLCK,  ENOLNK,  ENOSR, ENXIO й ERANGE. На SVr4 запис може перерватися і повернути EINTR у будь\-який момент, не тільки до того, як дані буде записано. 

.SH "Примітки"
.PP
Вдале повернення функцією write не гарантує, що дані збережено на диску. Насправді, на деяких невдалих втіленнях, навіть не гарантовано, що було відведено місце під запис. Єдиний спосіб бути певним, це викликати fsync(2) після того, як ви закінчили запис ваших даних. 

.SH "Дивіться також"
.PP
\fBclose\fR(2), \fBfcntl\fR(2), \fBfsync\fR(2), \fBioctl\fR(2), \fBlseek\fR(2), \fBopen\fR(2), \fBread\fR(2), \fBselect\fR(2), \fBfwrite\fR(3), \fBwritev\fR(3)


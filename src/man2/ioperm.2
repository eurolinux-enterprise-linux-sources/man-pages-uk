." © 2005-2007 DLOU, GNU FDL
." URL: <http://docs.linux.org.ua/index.php/Man_Contents>
." Supported by <docs@linux.org.ua>
."
." Permission is granted to copy, distribute and/or modify this document
." under the terms of the GNU Free Documentation License, Version 1.2
." or any later version published by the Free Software Foundation;
." with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
." 
." A copy of the license is included  as a file called COPYING in the
." main directory of the man-pages-* source package.
."
." This manpage has been automatically generated by wiki2man.py
." This tool can be found at: <http://wiki2man.sourceforge.net>
." Please send any bug reports, improvements, comments, patches, etc. to
." E-mail: <wiki2man-develop@lists.sourceforge.net>.

.TH "ioperm" "2" "2007-10-27-16:31" "© 2005-2007 DLOU, GNU FDL" "2007-10-27-16:31"

." ІOPERM 2 2006-01-02 Linux "Linux Programmer's Manual" 

.SH "Назва"
.PP
ioperm \- встановлює дозволи вводу\-виводу портів 

.SH "Стислий огляд"
.PP
\fB#include <unistd.h> \fR/* для libc5 */ 

.br

\fB#include <sys/io.h> \fR/* для glibc */ 

\fBint ioperm(unsigned  long \fR\fIfrom\fR\fB, unsigned long \fR \fInum\fR\fB, int \fR\fIturn_on\fR\fB);\fR 

.SH "Опис"
.PP
\fBІoperm\fR встановлює біти прав доступу процесу до портів (за адресою) \fInum\fR байтів, починаючи з адреси порту \fIfrom\fR. Значення дозволу будучи \fIturn_on\fR. Для використання функції \fBioperm\fR необхідні права root. 

Таким чином, можна задати права доступу тільки першим 0x3ff портам вводу\-виводу. Для роботи з іншими портами необхідно використовувати функцію \fBiopl\fR. Права не успадковуються після \fBfork()\fR, але успадковуються при \fBexec()\fR. Це можна використати для надання доступу до портів вводу\-виводу непривілейованим процесам. 

.SH "Повернені значення"
.PP
При вдалому завершенні виклику, повернене значення дорівнюватиме 0. При помилці воно дорівнює \-1, і змінна \fIerrno\fR також отримає значення помилки. 

.SH "Коди помилок"
.PP
.TP
.B \fBEINVAL\fR
 Недійсне значення \fIfrom\fR або \fInum\fR. 

.TP
.B \fBEPERM\fR
 Той хто викликав функцію не має достатніх повноважень CAP_SYS_RAWIO. 

.TP
.B \fBEIO\fR
 (Тільки для PPC). Цей виклик не підтримується. 

.SH "Відповідність стандартам"
.PP
\fBioperm\fR являється специфічним для Linux викликом. Не рекомендовано використовувати її у програмах, стерпних на переносних на інші системи програмах. 

.SH "Зауваження"
.PP
Libc5 розглядає дану функцію як системний виклик і містить прототип для неї у \fI<unistd.h>\fR. У Glibc1 цього прототипу немає. У Glibc2 цей прототип знаходиться в обох \fI<sys/io.h>\fR та \fI<sys/perm.h>\fR. Не використовуйте другий варіант, він існує тільки для i386. 

.SH "Дивіться також"
.PP
\fBiopl\fR(2) 


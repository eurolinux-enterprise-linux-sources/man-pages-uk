." © 2005-2007 DLOU, GNU FDL
." URL: <http://docs.linux.org.ua/index.php/Man_Contents>
." Supported by <docs@linux.org.ua>
."
." Permission is granted to copy, distribute and/or modify this document
." under the terms of the GNU Free Documentation License, Version 1.2
." or any later version published by the Free Software Foundation;
." with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
." 
." A copy of the license is included  as a file called COPYING in the
." main directory of the man-pages-* source package.
."
." This manpage has been automatically generated by wiki2man.py
." This tool can be found at: <http://wiki2man.sourceforge.net>
." Please send any bug reports, improvements, comments, patches, etc. to
." E-mail: <wiki2man-develop@lists.sourceforge.net>.

.TH "fork" "2" "2007-10-27-16:31" "© 2005-2007 DLOU, GNU FDL" "2007-10-27-16:31"

.SH "Назва"
.PP

fork — створює процес\-нащадок.

.SH "Синопсис"
.PP

.RS
.nf
 #include <sys/types.h>
 #include <unistd.h>
 pid_t fork(void);

.fi
.RE

.SH "Опис"
.PP

\fBfork\fR створює процес\-нащадок, котрий відрізняється від батьківського лише своїм ідентифікатором (PID), ідентифікатором батьківського процесу (PPID), а також фактом, що використання ресурсів встановлюється в 0. Замки на файли та поточні сиґнали не успадковуються. 

Під Linux \fBfork\fR реалізовано з використанням «copy\-on\-write» — копії сторінок пам'яті робляться лише при записі в них. Отже, ціною брунькування є лише час на копіювання батьківської таблиці сторінок і створення унікальної структури задачі для нащадка.

.SH "Повернене значення"
.PP

В разі успіху, в потік виконання батьківського процесу повертається PID процесу\-нащадка, а в потік нащадка — 0. При невдачі в батьківський контекст повертається \-1, а змінна \fIerrno\fR отримує відповідне значення.

.SH "Помилки"
.PP

.TP
.B \fBEAGAIN\fR 
 \fBfork\fR не може розмістити достатньо пам'яті для копії батьківських таблиць сторінок і розмістити структуру задачі для нащадка.
.TP
.B \fBENOMEM\fR 
 \fBfork\fR не зміг розмістити необхідні структури ядра через нестачу пам'яті.

.SH "Відповідність стандартам"
.PP

Виклик \fBfork\fR відповідає SVr4, SVID, POSIX, X/OPEN, BSD4.3.

.SH "Дивіться також"
.PP

clone (2), execve (2), vfork (2), wait (2).


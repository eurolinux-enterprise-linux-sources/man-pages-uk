." © 2005-2007 DLOU, GNU FDL
." URL: <http://docs.linux.org.ua/index.php/Man_Contents>
." Supported by <docs@linux.org.ua>
."
." Permission is granted to copy, distribute and/or modify this document
." under the terms of the GNU Free Documentation License, Version 1.2
." or any later version published by the Free Software Foundation;
." with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
." 
." A copy of the license is included  as a file called COPYING in the
." main directory of the man-pages-* source package.
."
." This manpage has been automatically generated by wiki2man.py
." This tool can be found at: <http://wiki2man.sourceforge.net>
." Please send any bug reports, improvements, comments, patches, etc. to
." E-mail: <wiki2man-develop@lists.sourceforge.net>.

.TH "close" "2" "2007-10-27-16:31" "© 2005-2007 DLOU, GNU FDL" "2007-10-27-16:31"

." CLOSE 2 2006-06-02 "" "Посібник програміста Лінукса" 

.SH " Назва "
.PP
close \- закриває дескриптор файлу 

.SH "Огляд"
.PP
\fB#include <unistd.h>\fR 

\fBint close(int \fR\fIfd\fR\fB);\fR 

.SH "Опис"
.PP
\fBclose\fR закриває дескриптор файлу, тож він більне не посилається на жодний файл і може бути використаним знову. Будь\-які замки, наставлені на файл видаляються (незалежно від дескриптору, що використовувався для отримання замка). 

Якщо \fIfd\fR являється останньою копією певного дескриптору файлу, ресурси пов'язані з ним звільняються; якщо ж дескриптор був останнім посилянням на файл, якого було видалено за допомогою \fIunlink (2),\fR файл видаляється. 

.SH "Повернені значення"
.PP

.SH "Опис"
.PP
\fBclose\fR закриває дескриптор файлу, тож він більне не посилається на жодний файл і може бути використаним знову. Будь\-які замки, наставлені на файл видаляються (незалежно від дескриптору, що використовувався для отримання замка). 

Якщо \fIfd\fR являється останньою копією певного дескриптору файлу, ресурси пов'язані з ним звільняються; якщо ж дескриптор був останнім посилянням на файл, якого було видалено за допомогою \fIunlink (2),\fR файл видаляється. 

.SH "Повернені значення"
.PP
\fBclose\fR повертає 0 при успішному виконанні і \-1, якщо відбулася помилка. 

.SH "Коди помилок"
.PP

.TP
.B \fBEBADF\fR
 \fIfd\fR не є дійсним дескриптором файлу. 

.TP
.B \fBEINTR\fR
 Виклик \fBclose()\fR було перервано якимось сигналом. 

.TP
.B \fBEIO\fR
 Помилка вводу/виводу низького рівня. 

.SH "Відповідність стандартам"
.PP
SVr4, SVID, POSIX, X/OPEN, BSD 4.3. SVr4 згадує додаткову помилку ENOLINK. 

.SH "Примітки"
.PP
Нехтування перевіркою поверненого значення \fBclose\fR є поширеною, тим не менш, серйозною помилкою програмістів. Не виключено, що помилки при попередній операції \fBwrite\fR(2) вперше звітуються при фінальному \fBclose\fR. Не перевіряючи повернене значення при закритті файлу, ви ризикуєте мовчазною втратою даних. Це особливо помітно у випадку записів через NFS і у випадку дискових квот. 

Вдала \fBclose\fR не гарантує, що дані успішно збережено на диску, так як ядро може затримати запис. Можлива ситуація в якій файлова система звільняє буфер після закриття потоку. Якщо ви хочете впевнитися, що дані фізично збережені, скористайтеся \fBfsync\fR(2). (З цього моменту це залежатиме від дискового пристрою.) 

.SH "Дивіться також"
.PP
\fBopen\fR(2), \fBfcntl\fR(2), \fBshutdown\fR(2), \fBunlink\fR(2), \fBfclose\fR(3), \fBfsync\fR(2) 


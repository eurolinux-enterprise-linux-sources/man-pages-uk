." © 2005-2007 DLOU, GNU FDL
." URL: <http://docs.linux.org.ua/index.php/Man_Contents>
." Supported by <docs@linux.org.ua>
."
." Permission is granted to copy, distribute and/or modify this document
." under the terms of the GNU Free Documentation License, Version 1.2
." or any later version published by the Free Software Foundation;
." with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
." 
." A copy of the license is included  as a file called COPYING in the
." main directory of the man-pages-* source package.
."
." This manpage has been automatically generated by wiki2man.py
." This tool can be found at: <http://wiki2man.sourceforge.net>
." Please send any bug reports, improvements, comments, patches, etc. to
." E-mail: <wiki2man-develop@lists.sourceforge.net>.

.TH "ioctl" "2" "2007-10-27-16:31" "© 2005-2007 DLOU, GNU FDL" "2007-10-27-16:31"

." ІOCTL 2   Lіnux Programmer's Manual 

.SH "НАЗВА"
.PP
іoctl \- керує пристроями

.SH "СИНТАКСИС"
.PP
\fB#include <sys/ioctl.h>\fR

\fBint ioctl(int\fR \fId\fR\fB, int\fR \fIrequest\fR\fB, ...);\fR

/* третім аргументом, як правило є \fBchar *\fR\fIargp\fR */

.SH "ОПИС"
.PP
Функція \fBіoctl\fR керує пристроями , на які посилаються
спеціальні файли. За допомогою запитів \fBіoctl\fR можна
керувати багатьма символьними пристроями (character
devices) (наприклад, терміналами). Аргумент \fId\fR повинен бути
відкритим дескриптором файлу (пристрою).

Другий аргумент, \fIrequest\fR, є залежним від пристрою, кодом
запиту. Третім аргументом є покажчик на пам'ять, що не має
типу. Це традиційно \fBchar *\fR\fIargp\fR (ще з тих часів, коли 
\fBvoid *\fR було чинним C), і ми так і будемо використовувати його
у цій дискусії.

Параметр \fIrequest\fR має вбудовану в собі інформацію, чи являється 
третій аргумент вхідним чи вихідним і, додатково, розмір \fIargp\fR у байтах.
Макроси і визначення define, що використовуються для виклику запитів
\fIrequest\fR функції \fBіoctl\fR, знаходяться у файлі <sys/ioctl.h>.

.SH "ПОВЕРНЕНЕ ЗНАЧЕННЯ"
.PP
Звичайно, при успішному завершенні повертається нульове
значення. Деякі \fBіoctl\fR використовують повернене значення як 
параметр виводу і при успішному завершенні повертають позитивне значення. 
При помилці повернене значення дорівнює \-1, і \fIerrno\fR присвоюється
код помилки.

.SH "КОДИ ПОМИЛОК"
.PP
.TP
.B EBADF
 \fId\fR не є чинним дескриптором.
.TP
.B EFAULT
 \fIargp\fR посилається на недоступну область адресного простору.
.TP
.B ENOTTY
 \fId\fR не відповідає символьному пристроєві.
.TP
.B ENOTTY
 Вказаний запит не застосовується до типу об'єкта, на який посилається дескриптор \fId\fR.
.TP
.B EІNVAL
 Невірно вказані \fIrequest\fR або \fIargp\fR.

.SH "ВІДПОВІДНІСТЬ СТАНДАРТАМ"
.PP
Не існує єдиного стандарту. Аргументи, повернені значення і
семантика \fBioctl\fR(2) різні у кожному конкретному випадку, в
залежності від драйвера пристрою (виклик є загальним для всіх операцій, що не 
вписуються у модель потокового вводу/виводу Unix). Передивіться 
\fBioctl_list\fR(2), у якому
перелічені більшість викликів \fBіoctl\fR. Виклик \fBіoctl\fR уперше
з'явився у версії 7 AT&T Unix.

.SH "ДИВІТЬСЯ ТАКОЖ"
.PP
\fBexecve\fR(2), \fBfcntl\fR(2), 
\fBioctl_list\fR(2), \fBmt\fR(4), 
\fBsd\fR(4), \fBtty\fR(4)

\-\-\-\-
Переклав українською Віталій Цибуляк.

." Vim: transforms ioctl(2) to [[man/man2/ioctl.2|'''ioctl'''(2)]]
." %s/\([a-z]*\)(\([0-8]\))/[[man\/man\2\/\1.\2|'''\1'''(\2)]]/g       


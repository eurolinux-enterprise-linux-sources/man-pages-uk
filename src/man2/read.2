." © 2005-2007 DLOU, GNU FDL
." URL: <http://docs.linux.org.ua/index.php/Man_Contents>
." Supported by <docs@linux.org.ua>
."
." Permission is granted to copy, distribute and/or modify this document
." under the terms of the GNU Free Documentation License, Version 1.2
." or any later version published by the Free Software Foundation;
." with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
." 
." A copy of the license is included  as a file called COPYING in the
." main directory of the man-pages-* source package.
."
." This manpage has been automatically generated by wiki2man.py
." This tool can be found at: <http://wiki2man.sourceforge.net>
." Please send any bug reports, improvements, comments, patches, etc. to
." E-mail: <wiki2man-develop@lists.sourceforge.net>.

.TH "read" "2" "2007-10-27-16:31" "© 2005-2007 DLOU, GNU FDL" "2007-10-27-16:31"

." READ 2 2006-10-02 "Linux 2.0.32" "Linux Programmer's Manual" 

.SH "Назва"
.PP
read \- читає з файлового дескриптору 

.SH "Огляд"
.PP
\fB#include <unistd.h>\fR 

\fBssize_t read(int \fR\fIfd\fR\fB, void *\fR\fIbuf\fR\fB, size_t \fR\fIcount\fR\fB);\fR 

.SH "Опис"
.PP
Функція \fBread()\fR намагається прочитати до \fIcount\fR байтів файлового дескриптору \fIfd\fR у буфер, починаючи з \fIbuf\fR. 

Якщо \fIcount\fR дорівнює нулеві, \fBread()\fR повертає нуль і жодної дії не відбудеться. Якщо \fIcount\fR більший за \fBSSIZE_MAX\fR, результат є невизначеним. 

.SH "Повернені значення"
.PP
При вдалім виконанні повертається число прочитаний байтів (нуль вказує на кінець файлу), і позиція файлу переміститься на дане число. Не вважається помилкою, якщо число переміщення виявиться меншим за кількість вказаних байтів; це може статися, наприклад, якщо на даний момент доступні менша кількість байтів (можливо того, що ми знаходимся близько до кінця файлу, або читаємо з конвеєру або терміналу), або \fBread()\fR було перервано сигналом. При помилці, повертається \-1 і змінна \fIerrno\fR отримає відповідне значення. В цьому випадку не зазначено, чи позиція файлу (якщо встановлено) змінюється, чи ні. 

.SH "Коди помилок"
.PP
.TP
.B \fBEINTR\fR
 Виклик перервано сигналом до того, як прочитати якісь дані. 

.TP
.B \fBEAGAIN\fR
 Було вибрано не\-блокуючий режим читання/запису за допомогою \fBO_NOBLOCK\fR, і жодних даних не було в негайній наявності для читання. 

.TP
.B \fBEIO\fR
 Помилка вводу/виводу. Це може статися, наприклад, коли процес знаходиться в групі процесів фонового режиму, намагається прочитати зі своєго контролюючого tty (терміналу), i або він ігнорує чи блокує \fBSIGTTIN\fR, або група, до якої він належить, зависла (осиротіла). Також це може бути через низькорівневої помилки вводу/виводу під час зчитування з диску чи стрічки. 

.TP
.B \fBEISDIR\fR
 \fIfd\fR стосується каталогу. 

.TP
.B \fBEBADF\fR
 \fIfd\fR не є чинним дескриптором файлу, або не відкрито для читання. 

.TP
.B \fBEINVAL\fR
 \fIfd\fR приєднано до об'єкту, непридатного для читання. 

.TP
.B \fBEFAULT\fR
 \fIbuf\fR знаходиться поза межами досяжного адресного простору. 

Можливі також інші помилки, в залежності до об'єкту, приєднаного до \fIfd\fR. POSIX дозволяє, щоб \fBread\fR, перерваний після прочитання якоїсь кількості даних, повертав \-1 (із \fIerrno\fR встановленим до \fBEINTR\fR) або кількість вже прочитаних байтів. 

.SH "Відповідність стандартам"
.PP
SVr4, SVID, AT&T, POSIX, X/OPEN, BSD 4.3 

.SH "Обмеження"
.PP
На файлових системах NFS, читання малої кількості даних оновить тільки перший раз мітку часу, наступні виклики можуть не здійснювати цього. Це пов'язано із кешуванням атрибутів на клієнтському боці, так як більшість, якщо не всі, клієнти NFS залишають поновлення \fIatime\fR серверу і клієнтська сторона, спокійно читаючи з власного кешу, не вимагатиме поновлення \fIatime\fR на сервері за відсутністю читання на серверному боці. UNIX\-семантики можна добитись через заборону кешування атрибутів на клієнтській стороні, але це, в більшості випадків, значно збільшить навантаження серверу і погіршить ефективність. 

Багато файлових систем і дисків вважаються настільки швидкими, що втілення \fBO_NONBLOCK\fR вважається непотрібним. Тож \fBO_NONBLOCK\fR може бути відсутньою для файлів і/або дисків. 

.SH "Дивіться також"
.PP
\fBclose\fR(2), \fBfcntl\fR(2), \fBioctl\fR(2), \fBlseek\fR(2), \fBreaddir\fR(2), \fBreadlink\fR(2), \fBselect\fR(2), \fBwrite\fR(2), \fBfread\fR(3), \fBreadv\fR(3)  


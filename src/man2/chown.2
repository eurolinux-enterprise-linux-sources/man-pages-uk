." © 2005-2007 DLOU, GNU FDL
." URL: <http://docs.linux.org.ua/index.php/Man_Contents>
." Supported by <docs@linux.org.ua>
."
." Permission is granted to copy, distribute and/or modify this document
." under the terms of the GNU Free Documentation License, Version 1.2
." or any later version published by the Free Software Foundation;
." with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
." 
." A copy of the license is included  as a file called COPYING in the
." main directory of the man-pages-* source package.
."
." This manpage has been automatically generated by wiki2man.py
." This tool can be found at: <http://wiki2man.sourceforge.net>
." Please send any bug reports, improvements, comments, patches, etc. to
." E-mail: <wiki2man-develop@lists.sourceforge.net>.

.TH "chown" "2" "2007-10-27-16:31" "© 2005-2007 DLOU, GNU FDL" "2007-10-27-16:31"

." .\" Hey Emacs! This file is -*- nroff -*- source. 

." .\" 

." .\" Copyright (c) 1992 Drew Eckhardt (drew@cs.colorado.edu), March 28, 1992 

." .\" Copyright (c) 1998 Andries Brouwer (aeb@cwi.nl) 

." .\" 

." .\" Permission is granted to make and distribute verbatim copies of this 

." .\" manual provided the copyright notice and this permission notice are 

." .\" preserved on all copies. 

." .\" 

." .\" Permission is granted to copy and distribute modified versions of this 

." .\" manual under the conditions for verbatim copying, provided that the 

." .\" entire resulting derived work is distributed under the terms of a 

." .\" permission notice identical to this one 

." .\"  

." .\" Since the Linux kernel and libraries are constantly changing, this 

." .\" manual page may be incorrect or out-of-date.  The author(s) assume no 

." .\" responsibility for errors or omissions, or for damages resulting from 

." .\" the use of the information contained herein.  The author(s) may not 

." .\" have taken the same level of care in the production of this manual, 

." .\" which is licensed free of charge, as they might when working 

." .\" professionally. 

." .\"  

." .\" Formatted or processed versions of this manual, if unaccompanied by 

." .\" the source, must acknowledge the copyright and authors of this work. 

." .\" 

." .\" Modified by Michael Haardt <michael@moria.de> 

." .\" Modified Wed Jul 21 21:53:01 1993 by Rik Faith <faith@cs.unc.edu> 

." .\" Modified Tue Jul  9 13:59:51 1996 by Andries Brouwer <aeb@cwi.nl> 

." .\" Modified Wed Nov  6 03:49:07 1996 by Eric S. Raymond <esr@thyrsus.com> 

." .\" Modified Sun May 18 10:34:09 1997 by Michael Haardt <michael@cantor.informatik.rwth-aachen.de> 

." .\" 

." .\" {Project - Ukrainian Man/""} 

." .\" {Language TEAM : Ukraine <linux@linux.org.ua>/""} 

." .\" last translated by Serhiy O. RESHETNYUK <reshtnk7@linuxmail.org> 

." .\" ------------ 

." .\" Date: Fri, 7 Feb 2003 08:30:45 +0200 

." .TH CHOWN 2 1997-05-18 "Linux 2.1.81" "Linux Programmer's Manual" 

.SH " Назва "
.PP
chown, fchown, lchown \- змінює власника файлу  

.SH " Звід "
.PP
\fB#include <sys/types.h>\fR 
.br
 \fB#include <unistd.h>\fR 
." .sp 

\fBint chown(const char *\fR \fIшлях\fR \fB, uid_t \fR \fIвласник\fR \fB, gid_t \fR \fIгрупа\fR \fB);\fR 
.br
 \fBint fchown(int \fR \fIfd\fR \fB, uid_t \fR \fIвласник\fR \fB, gid_t \fR \fIгрупа\fR \fB);\fR 
.br
 \fBint lchown(const char *\fR \fIшлях\fR \fB, uid_t \fR \fIвласник\fR \fB, gid_t \fR \fIгрупа\fR \fB);\fR 

.SH " Опис  "
.PP
Змінює власника, вказаного в \fIшляху\fR або дескрипторі  \fIfd\fR , файлу.  Лише привілейований користувач може змінити власника файлу. Власник  файлу може змінити групу для файлу, якщо він являється членом цієї групи  .  Привілейований користувач може змінити групу на будь\-яку іншу.  

Якщо \fIвласник\fR або \fIгрупа\fR є вказана як \-1, то цей ID є незмінним. 

Коли змінюється власника або групу файлу не привілейованим користувачем то біти режиму S_ISUID і S_ISGID будуть очищені. POSIX не згадує про поведінку у таких ситуаціях при
виконанні \fIchown\fR привілейованим користувачем; поведінка Linux також  залежить	від  версії  ядра.У  випадку	файлу  із відсутнім  дозволом на виконання групою (із очищеним бітом S_IXGRP), біт S_ISGID вказує на обов'язкове  блокування і не буде змінено \fIchown\fR.

.SH " Повернене значення "
.PP
При вдалому завершенні повертає нуль.  При помилковому повертає \-1 , та відповідно виставляє \fIerrno\fR.

.SH " Помилки "
.PP
В залежності від файлової системи, можуть бути повернені різні помилки.  Більшість загальних помилок для \fBchdir\fR наведено нижче:  

.TP
.B EPERM
 UID не відповідає власнику файлу, і не є нулем; або \fIвласник\fR чи \fIгрупа\fR були вказані невірно. 

.TP
.B EROFS
 Названий файл розміщений на файловій системі  з дозволом тільки на читання. 

.TP
.B EFAULT
 \fIшлях\fR вказує по\-за доступною ділянкою пам'яті.

.TP
.B ENAMETOOLONG
 \fIшлях\fR занадто довгий.

.TP
.B ENOENT
 Вказаного файлу не існує.

.TP
.B ENOMEM
 Недостатньо пам'яті ядра.

.TP
.B ENOTDIR
 Якась  частина  (префіксу) назви  шляху не є каталогом.

.TP
.B EACCES
 Відсутній дозвіл на пошук вказаного шляху.

.TP
.B ELOOP
 Занадто  багато  символічних  посилань  при  спробі розв'язати \fIшлях\fR.

Перелік загальних помилок \fBfchown\fR:

.TP
.B EBADF
 Дескриптор не є дійсним.

.TP
.B ENOENT
 Дивіться вище.

.TP
.B EPERM
 Дивіться вище.

.TP
.B EROFS
 Дивіться вище.

.TP
.B EIO
 Відбулася помилка вводу/виводу низького  рівня  під  час запису дискового інфовузла (inode).

.SH " Примітки "
.PP
У  версіях  Linux  до  2.1.81  (окрім  2.1.46),	\fBchown\fR  не  слідував за символічними	 посиланнями.  Лише  починаючи	з Linux  2.1.81.  Також  пізніше  з'явився	 новий	системний  виклик, \fBlchown\fR,  який  не  слідує  символічм  посиланням.    Починаючи з Linux 2.1.86, \fBlchown\fR (який поділяє симантику з  \fBchown\fR) отримав номер системного	виклику	 \fBchown\fR,	 тоді  як  останній поміняв його.

Прототип  для  \fBfchown\fR  лише  доступний	якщо  \fB_BSD_SOURCE\fR  означена (безпосередньо або  непрямим  способом,	 але  без  означення _POSIX_SOURCE або компілюючи з прапорцем \-ansi).

.SH " Відповідність "
.PP
Виклик  \fBchown\fR  узгоджується  зі	стандартами  SVr4,  SVID,       POSIX,  X/OPEN.	Версія 4.4BSD може використовуватися лише       адміністратором	(тобто	звичайні  користувачі  не  можуть       міняти	користувачів   власних	файлів.	 У  SVr4  описані повернення значень EINVAL, EINTR, ENOLINK і EMULTIHOP, але       нічого  не  сказано про ENOMEM.	У POSIX помилки ENOMEM та   ELOOP також не документовано.

Виклик \fBfchown\fR  узгоджується  із	4.4BSD	і  SVr4.  У  SVr4     стандарті  також	 присутні додаткові  помилки EINVAL, EIO,  EINTR і ENOLINK.

.SH " Обмеження "
.PP
Семантика \fBchown\fR()  навмисне  порушена  на  NFS  (мережевих   файлових	 системах)  що	мають включеним відповідність UID       (користувацьких ID).  Семантика інших системних викликів,      що  намагаються	отримати доступ до файлів, також порушені       на NFS,	оскільки  \fBchown\fR()  може	 присвести  до	негайного припинення   доступу   у	 випадку  вже  відкритих  файлів. Кешування з клієнтської сторони може призвести до затримок між   часом   коли  користувача	поміняно,  щоб	дозволити       попередньому користувачеві завершити роботу,  і	часом  до     того як інший користувач (на інших клієнтах) матиме доступ   до файлу.

.SH " Дивіться також "
.PP
\fBchmod(2),\fR \fBflock(2)\fR

